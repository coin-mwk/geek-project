{"ast":null,"code":"import { useRef } from 'react';\nconst MIN_DISTANCE = 10;\n\nfunction getDirection(x, y) {\n  if (x > y && x > MIN_DISTANCE) {\n    return 'horizontal';\n  }\n\n  if (y > x && y > MIN_DISTANCE) {\n    return 'vertical';\n  }\n\n  return '';\n}\n\nexport function useTouch() {\n  const startX = useRef(0);\n  const startY = useRef(0);\n  const deltaX = useRef(0);\n  const deltaY = useRef(0);\n  const offsetX = useRef(0);\n  const offsetY = useRef(0);\n  const direction = useRef('');\n\n  const isVertical = () => direction.current === 'vertical';\n\n  const isHorizontal = () => direction.current === 'horizontal';\n\n  const reset = () => {\n    deltaX.current = 0;\n    deltaY.current = 0;\n    offsetX.current = 0;\n    offsetY.current = 0;\n    direction.current = '';\n  };\n\n  const start = event => {\n    reset();\n    startX.current = event.touches[0].clientX;\n    startY.current = event.touches[0].clientY;\n  };\n\n  const move = event => {\n    const touch = event.touches[0]; // Fix: Safari back will set clientX to negative number\n\n    deltaX.current = touch.clientX < 0 ? 0 : touch.clientX - startX.current;\n    deltaY.current = touch.clientY - startY.current;\n    offsetX.current = Math.abs(deltaX.current);\n    offsetY.current = Math.abs(deltaY.current);\n\n    if (!direction.current) {\n      direction.current = getDirection(offsetX.current, offsetY.current);\n    }\n  };\n\n  return {\n    move,\n    start,\n    reset,\n    startX,\n    startY,\n    deltaX,\n    deltaY,\n    offsetX,\n    offsetY,\n    direction,\n    isVertical,\n    isHorizontal\n  };\n}","map":{"version":3,"names":["useRef","MIN_DISTANCE","getDirection","x","y","useTouch","startX","startY","deltaX","deltaY","offsetX","offsetY","direction","isVertical","current","isHorizontal","reset","start","event","touches","clientX","clientY","move","touch","Math","abs"],"sources":["/Users/tonystark/code/VSCodeProject/react/未命名文件夹/gk-h5/node_modules/antd-mobile/es/utils/use-touch.js"],"sourcesContent":["import { useRef } from 'react';\nconst MIN_DISTANCE = 10;\n\nfunction getDirection(x, y) {\n  if (x > y && x > MIN_DISTANCE) {\n    return 'horizontal';\n  }\n\n  if (y > x && y > MIN_DISTANCE) {\n    return 'vertical';\n  }\n\n  return '';\n}\n\nexport function useTouch() {\n  const startX = useRef(0);\n  const startY = useRef(0);\n  const deltaX = useRef(0);\n  const deltaY = useRef(0);\n  const offsetX = useRef(0);\n  const offsetY = useRef(0);\n  const direction = useRef('');\n\n  const isVertical = () => direction.current === 'vertical';\n\n  const isHorizontal = () => direction.current === 'horizontal';\n\n  const reset = () => {\n    deltaX.current = 0;\n    deltaY.current = 0;\n    offsetX.current = 0;\n    offsetY.current = 0;\n    direction.current = '';\n  };\n\n  const start = event => {\n    reset();\n    startX.current = event.touches[0].clientX;\n    startY.current = event.touches[0].clientY;\n  };\n\n  const move = event => {\n    const touch = event.touches[0]; // Fix: Safari back will set clientX to negative number\n\n    deltaX.current = touch.clientX < 0 ? 0 : touch.clientX - startX.current;\n    deltaY.current = touch.clientY - startY.current;\n    offsetX.current = Math.abs(deltaX.current);\n    offsetY.current = Math.abs(deltaY.current);\n\n    if (!direction.current) {\n      direction.current = getDirection(offsetX.current, offsetY.current);\n    }\n  };\n\n  return {\n    move,\n    start,\n    reset,\n    startX,\n    startY,\n    deltaX,\n    deltaY,\n    offsetX,\n    offsetY,\n    direction,\n    isVertical,\n    isHorizontal\n  };\n}"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,MAAMC,YAAY,GAAG,EAArB;;AAEA,SAASC,YAAT,CAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;EAC1B,IAAID,CAAC,GAAGC,CAAJ,IAASD,CAAC,GAAGF,YAAjB,EAA+B;IAC7B,OAAO,YAAP;EACD;;EAED,IAAIG,CAAC,GAAGD,CAAJ,IAASC,CAAC,GAAGH,YAAjB,EAA+B;IAC7B,OAAO,UAAP;EACD;;EAED,OAAO,EAAP;AACD;;AAED,OAAO,SAASI,QAAT,GAAoB;EACzB,MAAMC,MAAM,GAAGN,MAAM,CAAC,CAAD,CAArB;EACA,MAAMO,MAAM,GAAGP,MAAM,CAAC,CAAD,CAArB;EACA,MAAMQ,MAAM,GAAGR,MAAM,CAAC,CAAD,CAArB;EACA,MAAMS,MAAM,GAAGT,MAAM,CAAC,CAAD,CAArB;EACA,MAAMU,OAAO,GAAGV,MAAM,CAAC,CAAD,CAAtB;EACA,MAAMW,OAAO,GAAGX,MAAM,CAAC,CAAD,CAAtB;EACA,MAAMY,SAAS,GAAGZ,MAAM,CAAC,EAAD,CAAxB;;EAEA,MAAMa,UAAU,GAAG,MAAMD,SAAS,CAACE,OAAV,KAAsB,UAA/C;;EAEA,MAAMC,YAAY,GAAG,MAAMH,SAAS,CAACE,OAAV,KAAsB,YAAjD;;EAEA,MAAME,KAAK,GAAG,MAAM;IAClBR,MAAM,CAACM,OAAP,GAAiB,CAAjB;IACAL,MAAM,CAACK,OAAP,GAAiB,CAAjB;IACAJ,OAAO,CAACI,OAAR,GAAkB,CAAlB;IACAH,OAAO,CAACG,OAAR,GAAkB,CAAlB;IACAF,SAAS,CAACE,OAAV,GAAoB,EAApB;EACD,CAND;;EAQA,MAAMG,KAAK,GAAGC,KAAK,IAAI;IACrBF,KAAK;IACLV,MAAM,CAACQ,OAAP,GAAiBI,KAAK,CAACC,OAAN,CAAc,CAAd,EAAiBC,OAAlC;IACAb,MAAM,CAACO,OAAP,GAAiBI,KAAK,CAACC,OAAN,CAAc,CAAd,EAAiBE,OAAlC;EACD,CAJD;;EAMA,MAAMC,IAAI,GAAGJ,KAAK,IAAI;IACpB,MAAMK,KAAK,GAAGL,KAAK,CAACC,OAAN,CAAc,CAAd,CAAd,CADoB,CACY;;IAEhCX,MAAM,CAACM,OAAP,GAAiBS,KAAK,CAACH,OAAN,GAAgB,CAAhB,GAAoB,CAApB,GAAwBG,KAAK,CAACH,OAAN,GAAgBd,MAAM,CAACQ,OAAhE;IACAL,MAAM,CAACK,OAAP,GAAiBS,KAAK,CAACF,OAAN,GAAgBd,MAAM,CAACO,OAAxC;IACAJ,OAAO,CAACI,OAAR,GAAkBU,IAAI,CAACC,GAAL,CAASjB,MAAM,CAACM,OAAhB,CAAlB;IACAH,OAAO,CAACG,OAAR,GAAkBU,IAAI,CAACC,GAAL,CAAShB,MAAM,CAACK,OAAhB,CAAlB;;IAEA,IAAI,CAACF,SAAS,CAACE,OAAf,EAAwB;MACtBF,SAAS,CAACE,OAAV,GAAoBZ,YAAY,CAACQ,OAAO,CAACI,OAAT,EAAkBH,OAAO,CAACG,OAA1B,CAAhC;IACD;EACF,CAXD;;EAaA,OAAO;IACLQ,IADK;IAELL,KAFK;IAGLD,KAHK;IAILV,MAJK;IAKLC,MALK;IAMLC,MANK;IAOLC,MAPK;IAQLC,OARK;IASLC,OATK;IAULC,SAVK;IAWLC,UAXK;IAYLE;EAZK,CAAP;AAcD"},"metadata":{},"sourceType":"module"}