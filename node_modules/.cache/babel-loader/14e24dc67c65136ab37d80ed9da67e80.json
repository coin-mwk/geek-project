{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport Notification from 'rmc-notification';\nimport Icon from '../icon';\nvar SHORT = 3;\nvar _config = {\n  duration: SHORT,\n  mask: true\n};\nvar messageInstance = void 0;\nvar messageNeedHide = void 0;\nvar prefixCls = 'am-toast';\n\nfunction getMessageInstance(mask, callback) {\n  var _classnames;\n\n  Notification.newInstance({\n    prefixCls: prefixCls,\n    style: {},\n    transitionName: 'am-fade',\n    className: classnames((_classnames = {}, _defineProperty(_classnames, prefixCls + '-mask', mask), _defineProperty(_classnames, prefixCls + '-nomask', !mask), _classnames))\n  }, function (notification) {\n    return callback && callback(notification);\n  });\n}\n\nfunction notice(content, type) {\n  var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _config.duration;\n  var _onClose = arguments[3];\n  var mask = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _config.mask;\n  var iconTypes = {\n    info: '',\n    success: 'success',\n    fail: 'fail',\n    offline: 'dislike',\n    loading: 'loading'\n  };\n  var iconType = iconTypes[type];\n  messageNeedHide = false;\n  getMessageInstance(mask, function (notification) {\n    if (!notification) {\n      return;\n    }\n\n    if (messageInstance) {\n      messageInstance.destroy();\n      messageInstance = null;\n    }\n\n    if (messageNeedHide) {\n      notification.destroy();\n      messageNeedHide = false;\n      return;\n    }\n\n    messageInstance = notification;\n    notification.notice({\n      duration: duration,\n      style: {},\n      content: !!iconType ? React.createElement('div', {\n        className: prefixCls + '-text ' + prefixCls + '-text-icon',\n        role: 'alert',\n        'aria-live': 'assertive'\n      }, React.createElement(Icon, {\n        type: iconType,\n        size: 'lg'\n      }), React.createElement('div', {\n        className: prefixCls + '-text-info'\n      }, content)) : React.createElement('div', {\n        className: prefixCls + '-text',\n        role: 'alert',\n        'aria-live': 'assertive'\n      }, React.createElement('div', null, content)),\n      closable: true,\n      onClose: function onClose() {\n        if (_onClose) {\n          _onClose();\n        }\n\n        notification.destroy();\n        notification = null;\n        messageInstance = null;\n      }\n    });\n  });\n}\n\nexport default {\n  SHORT: SHORT,\n  LONG: 8,\n  show: function show(content, duration, mask) {\n    return notice(content, 'info', duration, function () {}, mask);\n  },\n  info: function info(content, duration, onClose, mask) {\n    return notice(content, 'info', duration, onClose, mask);\n  },\n  success: function success(content, duration, onClose, mask) {\n    return notice(content, 'success', duration, onClose, mask);\n  },\n  fail: function fail(content, duration, onClose, mask) {\n    return notice(content, 'fail', duration, onClose, mask);\n  },\n  offline: function offline(content, duration, onClose, mask) {\n    return notice(content, 'offline', duration, onClose, mask);\n  },\n  loading: function loading(content, duration, onClose, mask) {\n    return notice(content, 'loading', duration, onClose, mask);\n  },\n  hide: function hide() {\n    if (messageInstance) {\n      messageInstance.destroy();\n      messageInstance = null;\n    } else {\n      messageNeedHide = true;\n    }\n  },\n  config: function config() {\n    var conf = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _conf$duration = conf.duration,\n        duration = _conf$duration === undefined ? SHORT : _conf$duration,\n        mask = conf.mask;\n    _config.duration = duration;\n\n    if (mask === false) {\n      _config.mask = false;\n    }\n  }\n};","map":{"version":3,"names":["_defineProperty","classnames","React","Notification","Icon","SHORT","_config","duration","mask","messageInstance","messageNeedHide","prefixCls","getMessageInstance","callback","_classnames","newInstance","style","transitionName","className","notification","notice","content","type","arguments","length","undefined","_onClose","iconTypes","info","success","fail","offline","loading","iconType","destroy","createElement","role","size","closable","onClose","LONG","show","hide","config","conf","_conf$duration"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/antd-mobile-v2/es/toast/index.js"],"sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport Notification from 'rmc-notification';\nimport Icon from '../icon';\nvar SHORT = 3;\nvar _config = {\n    duration: SHORT,\n    mask: true\n};\nvar messageInstance = void 0;\nvar messageNeedHide = void 0;\nvar prefixCls = 'am-toast';\nfunction getMessageInstance(mask, callback) {\n    var _classnames;\n\n    Notification.newInstance({\n        prefixCls: prefixCls,\n        style: {},\n        transitionName: 'am-fade',\n        className: classnames((_classnames = {}, _defineProperty(_classnames, prefixCls + '-mask', mask), _defineProperty(_classnames, prefixCls + '-nomask', !mask), _classnames))\n    }, function (notification) {\n        return callback && callback(notification);\n    });\n}\nfunction notice(content, type) {\n    var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _config.duration;\n    var _onClose = arguments[3];\n    var mask = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _config.mask;\n\n    var iconTypes = {\n        info: '',\n        success: 'success',\n        fail: 'fail',\n        offline: 'dislike',\n        loading: 'loading'\n    };\n    var iconType = iconTypes[type];\n    messageNeedHide = false;\n    getMessageInstance(mask, function (notification) {\n        if (!notification) {\n            return;\n        }\n        if (messageInstance) {\n            messageInstance.destroy();\n            messageInstance = null;\n        }\n        if (messageNeedHide) {\n            notification.destroy();\n            messageNeedHide = false;\n            return;\n        }\n        messageInstance = notification;\n        notification.notice({\n            duration: duration,\n            style: {},\n            content: !!iconType ? React.createElement(\n                'div',\n                { className: prefixCls + '-text ' + prefixCls + '-text-icon', role: 'alert', 'aria-live': 'assertive' },\n                React.createElement(Icon, { type: iconType, size: 'lg' }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-text-info' },\n                    content\n                )\n            ) : React.createElement(\n                'div',\n                { className: prefixCls + '-text', role: 'alert', 'aria-live': 'assertive' },\n                React.createElement(\n                    'div',\n                    null,\n                    content\n                )\n            ),\n            closable: true,\n            onClose: function onClose() {\n                if (_onClose) {\n                    _onClose();\n                }\n                notification.destroy();\n                notification = null;\n                messageInstance = null;\n            }\n        });\n    });\n}\nexport default {\n    SHORT: SHORT,\n    LONG: 8,\n    show: function show(content, duration, mask) {\n        return notice(content, 'info', duration, function () {}, mask);\n    },\n    info: function info(content, duration, onClose, mask) {\n        return notice(content, 'info', duration, onClose, mask);\n    },\n    success: function success(content, duration, onClose, mask) {\n        return notice(content, 'success', duration, onClose, mask);\n    },\n    fail: function fail(content, duration, onClose, mask) {\n        return notice(content, 'fail', duration, onClose, mask);\n    },\n    offline: function offline(content, duration, onClose, mask) {\n        return notice(content, 'offline', duration, onClose, mask);\n    },\n    loading: function loading(content, duration, onClose, mask) {\n        return notice(content, 'loading', duration, onClose, mask);\n    },\n    hide: function hide() {\n        if (messageInstance) {\n            messageInstance.destroy();\n            messageInstance = null;\n        } else {\n            messageNeedHide = true;\n        }\n    },\n    config: function config() {\n        var conf = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var _conf$duration = conf.duration,\n            duration = _conf$duration === undefined ? SHORT : _conf$duration,\n            mask = conf.mask;\n\n        _config.duration = duration;\n        if (mask === false) {\n            _config.mask = false;\n        }\n    }\n};"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,sCAA5B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,YAAP,MAAyB,kBAAzB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,IAAIC,KAAK,GAAG,CAAZ;AACA,IAAIC,OAAO,GAAG;EACVC,QAAQ,EAAEF,KADA;EAEVG,IAAI,EAAE;AAFI,CAAd;AAIA,IAAIC,eAAe,GAAG,KAAK,CAA3B;AACA,IAAIC,eAAe,GAAG,KAAK,CAA3B;AACA,IAAIC,SAAS,GAAG,UAAhB;;AACA,SAASC,kBAAT,CAA4BJ,IAA5B,EAAkCK,QAAlC,EAA4C;EACxC,IAAIC,WAAJ;;EAEAX,YAAY,CAACY,WAAb,CAAyB;IACrBJ,SAAS,EAAEA,SADU;IAErBK,KAAK,EAAE,EAFc;IAGrBC,cAAc,EAAE,SAHK;IAIrBC,SAAS,EAAEjB,UAAU,EAAEa,WAAW,GAAG,EAAd,EAAkBd,eAAe,CAACc,WAAD,EAAcH,SAAS,GAAG,OAA1B,EAAmCH,IAAnC,CAAjC,EAA2ER,eAAe,CAACc,WAAD,EAAcH,SAAS,GAAG,SAA1B,EAAqC,CAACH,IAAtC,CAA1F,EAAuIM,WAAzI;EAJA,CAAzB,EAKG,UAAUK,YAAV,EAAwB;IACvB,OAAON,QAAQ,IAAIA,QAAQ,CAACM,YAAD,CAA3B;EACH,CAPD;AAQH;;AACD,SAASC,MAAT,CAAgBC,OAAhB,EAAyBC,IAAzB,EAA+B;EAC3B,IAAIf,QAAQ,GAAGgB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoEjB,OAAO,CAACC,QAA3F;EACA,IAAImB,QAAQ,GAAGH,SAAS,CAAC,CAAD,CAAxB;EACA,IAAIf,IAAI,GAAGe,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoEjB,OAAO,CAACE,IAAvF;EAEA,IAAImB,SAAS,GAAG;IACZC,IAAI,EAAE,EADM;IAEZC,OAAO,EAAE,SAFG;IAGZC,IAAI,EAAE,MAHM;IAIZC,OAAO,EAAE,SAJG;IAKZC,OAAO,EAAE;EALG,CAAhB;EAOA,IAAIC,QAAQ,GAAGN,SAAS,CAACL,IAAD,CAAxB;EACAZ,eAAe,GAAG,KAAlB;EACAE,kBAAkB,CAACJ,IAAD,EAAO,UAAUW,YAAV,EAAwB;IAC7C,IAAI,CAACA,YAAL,EAAmB;MACf;IACH;;IACD,IAAIV,eAAJ,EAAqB;MACjBA,eAAe,CAACyB,OAAhB;MACAzB,eAAe,GAAG,IAAlB;IACH;;IACD,IAAIC,eAAJ,EAAqB;MACjBS,YAAY,CAACe,OAAb;MACAxB,eAAe,GAAG,KAAlB;MACA;IACH;;IACDD,eAAe,GAAGU,YAAlB;IACAA,YAAY,CAACC,MAAb,CAAoB;MAChBb,QAAQ,EAAEA,QADM;MAEhBS,KAAK,EAAE,EAFS;MAGhBK,OAAO,EAAE,CAAC,CAACY,QAAF,GAAa/B,KAAK,CAACiC,aAAN,CAClB,KADkB,EAElB;QAAEjB,SAAS,EAAEP,SAAS,GAAG,QAAZ,GAAuBA,SAAvB,GAAmC,YAAhD;QAA8DyB,IAAI,EAAE,OAApE;QAA6E,aAAa;MAA1F,CAFkB,EAGlBlC,KAAK,CAACiC,aAAN,CAAoB/B,IAApB,EAA0B;QAAEkB,IAAI,EAAEW,QAAR;QAAkBI,IAAI,EAAE;MAAxB,CAA1B,CAHkB,EAIlBnC,KAAK,CAACiC,aAAN,CACI,KADJ,EAEI;QAAEjB,SAAS,EAAEP,SAAS,GAAG;MAAzB,CAFJ,EAGIU,OAHJ,CAJkB,CAAb,GASLnB,KAAK,CAACiC,aAAN,CACA,KADA,EAEA;QAAEjB,SAAS,EAAEP,SAAS,GAAG,OAAzB;QAAkCyB,IAAI,EAAE,OAAxC;QAAiD,aAAa;MAA9D,CAFA,EAGAlC,KAAK,CAACiC,aAAN,CACI,KADJ,EAEI,IAFJ,EAGId,OAHJ,CAHA,CAZY;MAqBhBiB,QAAQ,EAAE,IArBM;MAsBhBC,OAAO,EAAE,SAASA,OAAT,GAAmB;QACxB,IAAIb,QAAJ,EAAc;UACVA,QAAQ;QACX;;QACDP,YAAY,CAACe,OAAb;QACAf,YAAY,GAAG,IAAf;QACAV,eAAe,GAAG,IAAlB;MACH;IA7Be,CAApB;EA+BH,CA7CiB,CAAlB;AA8CH;;AACD,eAAe;EACXJ,KAAK,EAAEA,KADI;EAEXmC,IAAI,EAAE,CAFK;EAGXC,IAAI,EAAE,SAASA,IAAT,CAAcpB,OAAd,EAAuBd,QAAvB,EAAiCC,IAAjC,EAAuC;IACzC,OAAOY,MAAM,CAACC,OAAD,EAAU,MAAV,EAAkBd,QAAlB,EAA4B,YAAY,CAAE,CAA1C,EAA4CC,IAA5C,CAAb;EACH,CALU;EAMXoB,IAAI,EAAE,SAASA,IAAT,CAAcP,OAAd,EAAuBd,QAAvB,EAAiCgC,OAAjC,EAA0C/B,IAA1C,EAAgD;IAClD,OAAOY,MAAM,CAACC,OAAD,EAAU,MAAV,EAAkBd,QAAlB,EAA4BgC,OAA5B,EAAqC/B,IAArC,CAAb;EACH,CARU;EASXqB,OAAO,EAAE,SAASA,OAAT,CAAiBR,OAAjB,EAA0Bd,QAA1B,EAAoCgC,OAApC,EAA6C/B,IAA7C,EAAmD;IACxD,OAAOY,MAAM,CAACC,OAAD,EAAU,SAAV,EAAqBd,QAArB,EAA+BgC,OAA/B,EAAwC/B,IAAxC,CAAb;EACH,CAXU;EAYXsB,IAAI,EAAE,SAASA,IAAT,CAAcT,OAAd,EAAuBd,QAAvB,EAAiCgC,OAAjC,EAA0C/B,IAA1C,EAAgD;IAClD,OAAOY,MAAM,CAACC,OAAD,EAAU,MAAV,EAAkBd,QAAlB,EAA4BgC,OAA5B,EAAqC/B,IAArC,CAAb;EACH,CAdU;EAeXuB,OAAO,EAAE,SAASA,OAAT,CAAiBV,OAAjB,EAA0Bd,QAA1B,EAAoCgC,OAApC,EAA6C/B,IAA7C,EAAmD;IACxD,OAAOY,MAAM,CAACC,OAAD,EAAU,SAAV,EAAqBd,QAArB,EAA+BgC,OAA/B,EAAwC/B,IAAxC,CAAb;EACH,CAjBU;EAkBXwB,OAAO,EAAE,SAASA,OAAT,CAAiBX,OAAjB,EAA0Bd,QAA1B,EAAoCgC,OAApC,EAA6C/B,IAA7C,EAAmD;IACxD,OAAOY,MAAM,CAACC,OAAD,EAAU,SAAV,EAAqBd,QAArB,EAA+BgC,OAA/B,EAAwC/B,IAAxC,CAAb;EACH,CApBU;EAqBXkC,IAAI,EAAE,SAASA,IAAT,GAAgB;IAClB,IAAIjC,eAAJ,EAAqB;MACjBA,eAAe,CAACyB,OAAhB;MACAzB,eAAe,GAAG,IAAlB;IACH,CAHD,MAGO;MACHC,eAAe,GAAG,IAAlB;IACH;EACJ,CA5BU;EA6BXiC,MAAM,EAAE,SAASA,MAAT,GAAkB;IACtB,IAAIC,IAAI,GAAGrB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;IACA,IAAIsB,cAAc,GAAGD,IAAI,CAACrC,QAA1B;IAAA,IACIA,QAAQ,GAAGsC,cAAc,KAAKpB,SAAnB,GAA+BpB,KAA/B,GAAuCwC,cADtD;IAAA,IAEIrC,IAAI,GAAGoC,IAAI,CAACpC,IAFhB;IAIAF,OAAO,CAACC,QAAR,GAAmBA,QAAnB;;IACA,IAAIC,IAAI,KAAK,KAAb,EAAoB;MAChBF,OAAO,CAACE,IAAR,GAAe,KAAf;IACH;EACJ;AAvCU,CAAf"},"metadata":{},"sourceType":"module"}