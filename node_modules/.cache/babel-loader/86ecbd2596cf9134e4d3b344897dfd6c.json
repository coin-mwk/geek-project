{"ast":null,"code":"var _jsxFileName = \"/Users/tonystark/code/VSCodeProject/react/gk-h5/src/pages/Home/components/ArticleItem/index.js\",\n    _s = $RefreshSig$();\n\nimport { useSelector } from \"react-redux\";\nimport styles from './index.module.scss';\nimport classnames from \"classnames\";\nimport Icon from \"@/components/Icon\";\nimport dayjs from \"dayjs\"; // 导入dayjs中文包\n\nimport 'dayjs/locale/zh-cn';\nimport relativeTime from 'dayjs/plugin/relativeTime'; // 扩展dayjs，使其具有显示相对时间的功能\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndayjs.extend(relativeTime);\ndayjs.locale('zh-cn');\nexport default function ArticleItem(_ref) {\n  _s();\n\n  let {\n    article\n  } = _ref;\n  const {\n    cover: {\n      type,\n      images\n    },\n    title,\n    aut_name,\n    comm_count,\n    pubdate\n  } = article;\n  const isLogin = useSelector(state => !!state.login.token);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (channelId === aid) {\n      dispatch(getArticleList(channelId, Date.now()));\n    }\n  }, [channelId, aid, dispatch]);\n  const res = useSelector(state => state.home.articles[channelId]);\n  const {\n    list\n  } = res || [];\n  if (!res) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.root,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classnames('article-content', type === 3 ? 't3' : '', type === 0 ? 'none-mt' : ''),\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), type !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"article-imgs\",\n        children: images.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"article-img-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: item,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classnames('article-info', type === 0 ? 'none-mt' : ''),\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: aut_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [comm_count, \" \\u8BC4\\u8BBA\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: dayjs(pubdate).fromNow()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close\",\n        children: isLogin && /*#__PURE__*/_jsxDEV(Icon, {\n          type: \"iconbtn_essay_close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ArticleItem, \"rtdQotChMdmR0/7CpPdGQyAaHKA=\", true, function () {\n  return [useSelector, useSelector];\n});\n\n_c = ArticleItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticleItem\");","map":{"version":3,"names":["useSelector","styles","classnames","Icon","dayjs","relativeTime","extend","locale","ArticleItem","article","cover","type","images","title","aut_name","comm_count","pubdate","isLogin","state","login","token","dispatch","useDispatch","useEffect","channelId","aid","getArticleList","Date","now","res","home","articles","list","root","map","item","i","fromNow"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/src/pages/Home/components/ArticleItem/index.js"],"sourcesContent":["import { useSelector } from \"react-redux\";\nimport styles from './index.module.scss';\nimport classnames from \"classnames\";\nimport Icon from \"@/components/Icon\";\nimport dayjs from \"dayjs\";\n// 导入dayjs中文包\nimport 'dayjs/locale/zh-cn';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n// 扩展dayjs，使其具有显示相对时间的功能\ndayjs.extend(relativeTime);\ndayjs.locale('zh-cn')\n\n\n\nexport default function ArticleItem ({ article }) {\n  const {\n    cover: { type, images },\n    title,\n    aut_name,\n    comm_count,\n    pubdate,\n  } = article\n  const isLogin = useSelector((state) => !!state.login.token)\n  const dispatch = useDispatch()\nuseEffect(() => {\n  if (channelId === aid) {\n    dispatch(getArticleList(channelId, Date.now()))\n  }\n}, [channelId, aid, dispatch])\nconst res = useSelector((state) => state.home.articles[channelId])\nconst { list } = res || []\nif (!res) return null\n  return (\n    <div className={styles.root}>\n      <div\n        className={classnames(\n          'article-content',\n          type === 3 ? 't3' : '',\n          type === 0 ? 'none-mt' : ''\n        )}\n      >\n        <h3>{title}</h3>\n        {type !== 0 && (\n          <div className=\"article-imgs\">\n            {images.map((item, i) => (\n              <div className=\"article-img-wrapper\" key={i}>\n                <img src={item} alt=\"\" />\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n      <div className={classnames('article-info', type === 0 ? 'none-mt' : '')}>\n        <span>{aut_name}</span>\n        <span>{comm_count} 评论</span>\n        {/* <span>{pubdate}</span> */}\n        <span>{dayjs(pubdate).fromNow()}</span>\n\n        <span className=\"close\">\n          {isLogin && <Icon type=\"iconbtn_essay_close\" />}\n        </span>\n      </div>\n    </div>\n  )\n}"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAO,oBAAP;AACA,OAAOC,YAAP,MAAyB,2BAAzB,C,CACA;;;AACAD,KAAK,CAACE,MAAN,CAAaD,YAAb;AACAD,KAAK,CAACG,MAAN,CAAa,OAAb;AAIA,eAAe,SAASC,WAAT,OAAmC;EAAA;;EAAA,IAAb;IAAEC;EAAF,CAAa;EAChD,MAAM;IACJC,KAAK,EAAE;MAAEC,IAAF;MAAQC;IAAR,CADH;IAEJC,KAFI;IAGJC,QAHI;IAIJC,UAJI;IAKJC;EALI,IAMFP,OANJ;EAOA,MAAMQ,OAAO,GAAGjB,WAAW,CAAEkB,KAAD,IAAW,CAAC,CAACA,KAAK,CAACC,KAAN,CAAYC,KAA1B,CAA3B;EACA,MAAMC,QAAQ,GAAGC,WAAW,EAA5B;EACFC,SAAS,CAAC,MAAM;IACd,IAAIC,SAAS,KAAKC,GAAlB,EAAuB;MACrBJ,QAAQ,CAACK,cAAc,CAACF,SAAD,EAAYG,IAAI,CAACC,GAAL,EAAZ,CAAf,CAAR;IACD;EACF,CAJQ,EAIN,CAACJ,SAAD,EAAYC,GAAZ,EAAiBJ,QAAjB,CAJM,CAAT;EAKA,MAAMQ,GAAG,GAAG7B,WAAW,CAAEkB,KAAD,IAAWA,KAAK,CAACY,IAAN,CAAWC,QAAX,CAAoBP,SAApB,CAAZ,CAAvB;EACA,MAAM;IAAEQ;EAAF,IAAWH,GAAG,IAAI,EAAxB;EACA,IAAI,CAACA,GAAL,EAAU,OAAO,IAAP;EACR,oBACE;IAAK,SAAS,EAAE5B,MAAM,CAACgC,IAAvB;IAAA,wBACE;MACE,SAAS,EAAE/B,UAAU,CACnB,iBADmB,EAEnBS,IAAI,KAAK,CAAT,GAAa,IAAb,GAAoB,EAFD,EAGnBA,IAAI,KAAK,CAAT,GAAa,SAAb,GAAyB,EAHN,CADvB;MAAA,wBAOE;QAAA,UAAKE;MAAL;QAAA;QAAA;QAAA;MAAA,QAPF,EAQGF,IAAI,KAAK,CAAT,iBACC;QAAK,SAAS,EAAC,cAAf;QAAA,UACGC,MAAM,CAACsB,GAAP,CAAW,CAACC,IAAD,EAAOC,CAAP,kBACV;UAAK,SAAS,EAAC,qBAAf;UAAA,uBACE;YAAK,GAAG,EAAED,IAAV;YAAgB,GAAG,EAAC;UAApB;YAAA;YAAA;YAAA;UAAA;QADF,GAA0CC,CAA1C;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QATJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAmBE;MAAK,SAAS,EAAElC,UAAU,CAAC,cAAD,EAAiBS,IAAI,KAAK,CAAT,GAAa,SAAb,GAAyB,EAA1C,CAA1B;MAAA,wBACE;QAAA,UAAOG;MAAP;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,WAAOC,UAAP;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eAIE;QAAA,UAAOX,KAAK,CAACY,OAAD,CAAL,CAAeqB,OAAf;MAAP;QAAA;QAAA;QAAA;MAAA,QAJF,eAME;QAAM,SAAS,EAAC,OAAhB;QAAA,UACGpB,OAAO,iBAAI,QAAC,IAAD;UAAM,IAAI,EAAC;QAAX;UAAA;UAAA;UAAA;QAAA;MADd;QAAA;QAAA;QAAA;MAAA,QANF;IAAA;MAAA;MAAA;MAAA;IAAA,QAnBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAgCD;;GAlDuBT,W;UAQNR,W,EAONA,W;;;KAfYQ,W"},"metadata":{},"sourceType":"module"}