{"ast":null,"code":"import { useMemo } from 'react';\nexport function useColumnsFn(options) {\n  const depth = useMemo(() => {\n    let depth = 0;\n\n    function traverse(options, currentDepth) {\n      if (currentDepth > depth) depth = currentDepth;\n      const nextDepth = currentDepth + 1;\n      options.forEach(option => {\n        if (option.children) {\n          traverse(option.children, nextDepth);\n        }\n      });\n    }\n\n    traverse(options, 1);\n    return depth;\n  }, [options]);\n  return selected => {\n    const columns = [];\n    let currentOptions = options;\n    let i = 0;\n\n    while (true) {\n      columns.push(currentOptions.map(option => ({\n        label: option.label,\n        value: option.value\n      })));\n      const x = selected[i];\n      const targetOptions = currentOptions.find(option => option.value === x);\n      if (!targetOptions || !targetOptions.children) break;\n      currentOptions = targetOptions.children;\n      i++;\n    }\n\n    while (i < depth - 1) {\n      columns.push([]);\n      i++;\n    }\n\n    return columns;\n  };\n}","map":{"version":3,"names":["useMemo","useColumnsFn","options","depth","traverse","currentDepth","nextDepth","forEach","option","children","selected","columns","currentOptions","i","push","map","label","value","x","targetOptions","find"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/antd-mobile/es/components/cascade-picker/cascade-picker-utils.js"],"sourcesContent":["import { useMemo } from 'react';\nexport function useColumnsFn(options) {\n  const depth = useMemo(() => {\n    let depth = 0;\n\n    function traverse(options, currentDepth) {\n      if (currentDepth > depth) depth = currentDepth;\n      const nextDepth = currentDepth + 1;\n      options.forEach(option => {\n        if (option.children) {\n          traverse(option.children, nextDepth);\n        }\n      });\n    }\n\n    traverse(options, 1);\n    return depth;\n  }, [options]);\n  return selected => {\n    const columns = [];\n    let currentOptions = options;\n    let i = 0;\n\n    while (true) {\n      columns.push(currentOptions.map(option => ({\n        label: option.label,\n        value: option.value\n      })));\n      const x = selected[i];\n      const targetOptions = currentOptions.find(option => option.value === x);\n      if (!targetOptions || !targetOptions.children) break;\n      currentOptions = targetOptions.children;\n      i++;\n    }\n\n    while (i < depth - 1) {\n      columns.push([]);\n      i++;\n    }\n\n    return columns;\n  };\n}"],"mappings":"AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,OAAO,SAASC,YAAT,CAAsBC,OAAtB,EAA+B;EACpC,MAAMC,KAAK,GAAGH,OAAO,CAAC,MAAM;IAC1B,IAAIG,KAAK,GAAG,CAAZ;;IAEA,SAASC,QAAT,CAAkBF,OAAlB,EAA2BG,YAA3B,EAAyC;MACvC,IAAIA,YAAY,GAAGF,KAAnB,EAA0BA,KAAK,GAAGE,YAAR;MAC1B,MAAMC,SAAS,GAAGD,YAAY,GAAG,CAAjC;MACAH,OAAO,CAACK,OAAR,CAAgBC,MAAM,IAAI;QACxB,IAAIA,MAAM,CAACC,QAAX,EAAqB;UACnBL,QAAQ,CAACI,MAAM,CAACC,QAAR,EAAkBH,SAAlB,CAAR;QACD;MACF,CAJD;IAKD;;IAEDF,QAAQ,CAACF,OAAD,EAAU,CAAV,CAAR;IACA,OAAOC,KAAP;EACD,CAfoB,EAelB,CAACD,OAAD,CAfkB,CAArB;EAgBA,OAAOQ,QAAQ,IAAI;IACjB,MAAMC,OAAO,GAAG,EAAhB;IACA,IAAIC,cAAc,GAAGV,OAArB;IACA,IAAIW,CAAC,GAAG,CAAR;;IAEA,OAAO,IAAP,EAAa;MACXF,OAAO,CAACG,IAAR,CAAaF,cAAc,CAACG,GAAf,CAAmBP,MAAM,KAAK;QACzCQ,KAAK,EAAER,MAAM,CAACQ,KAD2B;QAEzCC,KAAK,EAAET,MAAM,CAACS;MAF2B,CAAL,CAAzB,CAAb;MAIA,MAAMC,CAAC,GAAGR,QAAQ,CAACG,CAAD,CAAlB;MACA,MAAMM,aAAa,GAAGP,cAAc,CAACQ,IAAf,CAAoBZ,MAAM,IAAIA,MAAM,CAACS,KAAP,KAAiBC,CAA/C,CAAtB;MACA,IAAI,CAACC,aAAD,IAAkB,CAACA,aAAa,CAACV,QAArC,EAA+C;MAC/CG,cAAc,GAAGO,aAAa,CAACV,QAA/B;MACAI,CAAC;IACF;;IAED,OAAOA,CAAC,GAAGV,KAAK,GAAG,CAAnB,EAAsB;MACpBQ,OAAO,CAACG,IAAR,CAAa,EAAb;MACAD,CAAC;IACF;;IAED,OAAOF,OAAP;EACD,CAvBD;AAwBD"},"metadata":{},"sourceType":"module"}