{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport arrayTreeFilter from 'array-tree-filter';\nimport MultiPicker from 'rmc-picker/es/MultiPicker';\nimport Picker from 'rmc-picker/lib/Picker';\n\nvar Cascader = function (_React$Component) {\n  _inherits(Cascader, _React$Component);\n\n  function Cascader() {\n    _classCallCheck(this, Cascader);\n\n    var _this = _possibleConstructorReturn(this, (Cascader.__proto__ || Object.getPrototypeOf(Cascader)).apply(this, arguments));\n\n    _this.state = {\n      value: _this.getValue(_this.props.data, _this.props.defaultValue || _this.props.value)\n    };\n\n    _this.onValueChange = function (value, index) {\n      var children = arrayTreeFilter(_this.props.data, function (c, level) {\n        return level <= index && c.value === value[level];\n      });\n      var data = children[index];\n      var i = void 0;\n\n      for (i = index + 1; data && data.children && data.children.length && i < _this.props.cols; i++) {\n        data = data.children[0];\n        value[i] = data.value;\n      }\n\n      value.length = i;\n\n      _this.setState({\n        value: value\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange(value);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Cascader, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps) {\n        this.setState({\n          value: this.getValue(nextProps.data, nextProps.value)\n        });\n      }\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue(d, val) {\n      var data = d || this.props.data;\n      var value = val || this.props.value || this.props.defaultValue;\n\n      if (!value || !value.length || value.indexOf(undefined) > -1) {\n        value = [];\n\n        for (var i = 0; i < this.props.cols; i++) {\n          if (data && data.length) {\n            value[i] = data[0].value;\n            data = data[0].children;\n          }\n        }\n      }\n\n      return value;\n    }\n  }, {\n    key: 'getCols',\n    value: function getCols() {\n      var _props = this.props,\n          data = _props.data,\n          cols = _props.cols,\n          pickerPrefixCls = _props.pickerPrefixCls,\n          disabled = _props.disabled,\n          pickerItemStyle = _props.pickerItemStyle,\n          indicatorStyle = _props.indicatorStyle;\n      var value = this.state.value;\n      var childrenTree = arrayTreeFilter(data, function (c, level) {\n        return c.value === value[level];\n      }).map(function (c) {\n        return c.children;\n      });\n      var needPad = cols - childrenTree.length;\n\n      if (needPad > 0) {\n        for (var i = 0; i < needPad; i++) {\n          childrenTree.push([]);\n        }\n      }\n\n      childrenTree.length = cols - 1;\n      childrenTree.unshift(data);\n      return childrenTree.map(function () {\n        var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var level = arguments[1];\n        return React.createElement(Picker, {\n          key: level,\n          prefixCls: pickerPrefixCls,\n          style: {\n            flex: 1\n          },\n          disabled: disabled,\n          itemStyle: pickerItemStyle,\n          indicatorStyle: indicatorStyle\n        }, children.map(function (item) {\n          return React.createElement(Picker.Item, {\n            value: item.value,\n            key: item.value\n          }, item.label);\n        }));\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var prefixCls = props.prefixCls,\n          className = props.className,\n          rootNativeProps = props.rootNativeProps,\n          style = props.style;\n      var cols = this.getCols();\n\n      var multiStyle = _extends({\n        flexDirection: 'row',\n        alignItems: 'center'\n      }, style);\n\n      return React.createElement(MultiPicker, {\n        style: multiStyle,\n        prefixCls: prefixCls,\n        className: className,\n        selectedValue: this.state.value,\n        rootNativeProps: rootNativeProps,\n        onValueChange: this.onValueChange,\n        onScrollChange: props.onScrollChange\n      }, cols);\n    }\n  }]);\n\n  return Cascader;\n}(React.Component);\n\nCascader.defaultProps = {\n  cols: 3,\n  prefixCls: 'rmc-cascader',\n  pickerPrefixCls: 'rmc-picker',\n  data: [],\n  disabled: false\n};\nexport default Cascader;","map":{"version":3,"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","arrayTreeFilter","MultiPicker","Picker","Cascader","_React$Component","_this","__proto__","Object","getPrototypeOf","apply","arguments","state","value","getValue","props","data","defaultValue","onValueChange","index","children","c","level","i","length","cols","setState","onChange","key","componentWillReceiveProps","nextProps","d","val","indexOf","undefined","getCols","_props","pickerPrefixCls","disabled","pickerItemStyle","indicatorStyle","childrenTree","map","needPad","push","unshift","createElement","prefixCls","style","flex","itemStyle","item","Item","label","render","className","rootNativeProps","multiStyle","flexDirection","alignItems","selectedValue","onScrollChange","Component","defaultProps"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/rmc-cascader/es/Cascader.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport arrayTreeFilter from 'array-tree-filter';\nimport MultiPicker from 'rmc-picker/es/MultiPicker';\nimport Picker from 'rmc-picker/lib/Picker';\n\nvar Cascader = function (_React$Component) {\n    _inherits(Cascader, _React$Component);\n\n    function Cascader() {\n        _classCallCheck(this, Cascader);\n\n        var _this = _possibleConstructorReturn(this, (Cascader.__proto__ || Object.getPrototypeOf(Cascader)).apply(this, arguments));\n\n        _this.state = {\n            value: _this.getValue(_this.props.data, _this.props.defaultValue || _this.props.value)\n        };\n        _this.onValueChange = function (value, index) {\n            var children = arrayTreeFilter(_this.props.data, function (c, level) {\n                return level <= index && c.value === value[level];\n            });\n            var data = children[index];\n            var i = void 0;\n            for (i = index + 1; data && data.children && data.children.length && i < _this.props.cols; i++) {\n                data = data.children[0];\n                value[i] = data.value;\n            }\n            value.length = i;\n            _this.setState({ value: value });\n            if (_this.props.onChange) {\n                _this.props.onChange(value);\n            }\n        };\n        return _this;\n    }\n\n    _createClass(Cascader, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if ('value' in nextProps) {\n                this.setState({\n                    value: this.getValue(nextProps.data, nextProps.value)\n                });\n            }\n        }\n    }, {\n        key: 'getValue',\n        value: function getValue(d, val) {\n            var data = d || this.props.data;\n            var value = val || this.props.value || this.props.defaultValue;\n            if (!value || !value.length || value.indexOf(undefined) > -1) {\n                value = [];\n                for (var i = 0; i < this.props.cols; i++) {\n                    if (data && data.length) {\n                        value[i] = data[0].value;\n                        data = data[0].children;\n                    }\n                }\n            }\n            return value;\n        }\n    }, {\n        key: 'getCols',\n        value: function getCols() {\n            var _props = this.props,\n                data = _props.data,\n                cols = _props.cols,\n                pickerPrefixCls = _props.pickerPrefixCls,\n                disabled = _props.disabled,\n                pickerItemStyle = _props.pickerItemStyle,\n                indicatorStyle = _props.indicatorStyle;\n\n            var value = this.state.value;\n            var childrenTree = arrayTreeFilter(data, function (c, level) {\n                return c.value === value[level];\n            }).map(function (c) {\n                return c.children;\n            });\n                        var needPad = cols - childrenTree.length;\n            if (needPad > 0) {\n                for (var i = 0; i < needPad; i++) {\n                    childrenTree.push([]);\n                }\n            }\n            childrenTree.length = cols - 1;\n            childrenTree.unshift(data);\n            return childrenTree.map(function () {\n                var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n                var level = arguments[1];\n                return React.createElement(Picker, { key: level, prefixCls: pickerPrefixCls, style: { flex: 1 }, disabled: disabled, itemStyle: pickerItemStyle, indicatorStyle: indicatorStyle }, children.map(function (item) {\n                    return React.createElement(Picker.Item, { value: item.value, key: item.value }, item.label);\n                }));\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var props = this.props;\n            var prefixCls = props.prefixCls,\n                className = props.className,\n                rootNativeProps = props.rootNativeProps,\n                style = props.style;\n\n            var cols = this.getCols();\n            var multiStyle = _extends({ flexDirection: 'row', alignItems: 'center' }, style);\n            return React.createElement(MultiPicker, { style: multiStyle, prefixCls: prefixCls, className: className, selectedValue: this.state.value, rootNativeProps: rootNativeProps, onValueChange: this.onValueChange, onScrollChange: props.onScrollChange }, cols);\n        }\n    }]);\n\n    return Cascader;\n}(React.Component);\n\nCascader.defaultProps = {\n    cols: 3,\n    prefixCls: 'rmc-cascader',\n    pickerPrefixCls: 'rmc-picker',\n    data: [],\n    disabled: false\n};\nexport default Cascader;"],"mappings":"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"},"metadata":{},"sourceType":"module"}