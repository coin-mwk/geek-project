{"ast":null,"code":"// 初始状态\nconst initialState = {\n  userChannels: [],\n  allChannels: [],\n  // 存储所有的文章列表\n  articles: {},\n  feedbackAction: {\n    // 控制弹出菜单的显示隐藏\n    visible: false,\n    // 当前反馈的目标文章ID\n    articleId: 0,\n    // 当前频道id\n    channelId\n  }\n};\n\nconst home = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case 'home/channel':\n      return { ...state,\n        userChannels: payload\n      };\n\n    case 'home/allChannel':\n      return { ...state,\n        allChannels: payload\n      };\n\n    case 'home/setArticleList':\n      return { ...state,\n        articles: { ...state.articles,\n          [payload.channelId]: {\n            timestamp: payload.timestamp,\n            list: payload.list\n          }\n        }\n      };\n\n    case 'home/saveMoreArticleList':\n      const channelId = payload.channelId;\n      const oldList = state.articles[channelId].list;\n      return { ...state,\n        articles: { ...state.articles,\n          [payload.channelId]: {\n            timestamp: payload.timestamp,\n            list: [...oldList, ...payload.list]\n          }\n        }\n      };\n\n    case 'home/feedback_action':\n      return { ...state,\n        feedbackAction: payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default home;","map":{"version":3,"names":["initialState","userChannels","allChannels","articles","feedbackAction","visible","articleId","channelId","home","state","action","type","payload","timestamp","list","oldList"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/src/store/reducers/home.js"],"sourcesContent":["// 初始状态\nconst initialState = {\n  userChannels: [],\n  allChannels: [],\n  // 存储所有的文章列表\n  articles: {},\n  feedbackAction: {\n    // 控制弹出菜单的显示隐藏\n    visible: false,\n    // 当前反馈的目标文章ID\n    articleId: 0,\n    // 当前频道id\n    channelId\n  }\n}\n\nconst home = (state = initialState, action) => {\n  const { type, payload } = action\n\n  switch (type) {\n    case 'home/channel':\n      return {\n        ...state,\n        userChannels: payload,\n      }\n    case 'home/allChannel':\n      return {\n        ...state,\n        allChannels: payload,\n      }\n    case 'home/setArticleList':\n      return {\n        ...state,\n        articles: {\n          ...state.articles,\n          [payload.channelId]: {\n            timestamp: payload.timestamp,\n            list: payload.list,\n          },\n        },\n      }\n    case 'home/saveMoreArticleList':\n      const channelId = payload.channelId\n      const oldList = state.articles[channelId].list\n      return {\n        ...state,\n        articles: {\n          ...state.articles,\n          [payload.channelId]: {\n            timestamp: payload.timestamp,\n            list: [...oldList, ...payload.list],\n          },\n        },\n      }\n    case 'home/feedback_action':\n      return {\n        ...state,\n        feedbackAction: payload\n      }\n\n    default:\n      return state\n  }\n}\n\nexport default home"],"mappings":"AAAA;AACA,MAAMA,YAAY,GAAG;EACnBC,YAAY,EAAE,EADK;EAEnBC,WAAW,EAAE,EAFM;EAGnB;EACAC,QAAQ,EAAE,EAJS;EAKnBC,cAAc,EAAE;IACd;IACAC,OAAO,EAAE,KAFK;IAGd;IACAC,SAAS,EAAE,CAJG;IAKd;IACAC;EANc;AALG,CAArB;;AAeA,MAAMC,IAAI,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBT,YAAyB;EAAA,IAAXU,MAAW;EAC7C,MAAM;IAAEC,IAAF;IAAQC;EAAR,IAAoBF,MAA1B;;EAEA,QAAQC,IAAR;IACE,KAAK,cAAL;MACE,OAAO,EACL,GAAGF,KADE;QAELR,YAAY,EAAEW;MAFT,CAAP;;IAIF,KAAK,iBAAL;MACE,OAAO,EACL,GAAGH,KADE;QAELP,WAAW,EAAEU;MAFR,CAAP;;IAIF,KAAK,qBAAL;MACE,OAAO,EACL,GAAGH,KADE;QAELN,QAAQ,EAAE,EACR,GAAGM,KAAK,CAACN,QADD;UAER,CAACS,OAAO,CAACL,SAAT,GAAqB;YACnBM,SAAS,EAAED,OAAO,CAACC,SADA;YAEnBC,IAAI,EAAEF,OAAO,CAACE;UAFK;QAFb;MAFL,CAAP;;IAUF,KAAK,0BAAL;MACE,MAAMP,SAAS,GAAGK,OAAO,CAACL,SAA1B;MACA,MAAMQ,OAAO,GAAGN,KAAK,CAACN,QAAN,CAAeI,SAAf,EAA0BO,IAA1C;MACA,OAAO,EACL,GAAGL,KADE;QAELN,QAAQ,EAAE,EACR,GAAGM,KAAK,CAACN,QADD;UAER,CAACS,OAAO,CAACL,SAAT,GAAqB;YACnBM,SAAS,EAAED,OAAO,CAACC,SADA;YAEnBC,IAAI,EAAE,CAAC,GAAGC,OAAJ,EAAa,GAAGH,OAAO,CAACE,IAAxB;UAFa;QAFb;MAFL,CAAP;;IAUF,KAAK,sBAAL;MACE,OAAO,EACL,GAAGL,KADE;QAELL,cAAc,EAAEQ;MAFX,CAAP;;IAKF;MACE,OAAOH,KAAP;EA1CJ;AA4CD,CA/CD;;AAiDA,eAAeD,IAAf"},"metadata":{},"sourceType":"module"}