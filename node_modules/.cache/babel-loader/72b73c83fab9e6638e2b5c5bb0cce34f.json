{"ast":null,"code":"import { useIsomorphicLayoutEffect, useMemoizedFn } from 'ahooks';\nexport function useResizeEffect(effect, targetRef) {\n  const fn = useMemoizedFn(effect);\n  useIsomorphicLayoutEffect(() => {\n    const target = targetRef.current;\n    if (!target) return;\n\n    if (window.ResizeObserver) {\n      let animationFrame;\n      const observer = new ResizeObserver(() => {\n        animationFrame = window.requestAnimationFrame(() => fn(target));\n      });\n      observer.observe(target);\n      return () => {\n        window.cancelAnimationFrame(animationFrame);\n        observer.disconnect();\n      };\n    } else {\n      fn(target);\n    }\n  }, [targetRef]);\n}","map":{"version":3,"names":["useIsomorphicLayoutEffect","useMemoizedFn","useResizeEffect","effect","targetRef","fn","target","current","window","ResizeObserver","animationFrame","observer","requestAnimationFrame","observe","cancelAnimationFrame","disconnect"],"sources":["/Users/tonystark/code/VSCodeProject/react/未命名文件夹/gk-h5/node_modules/antd-mobile/es/utils/use-resize-effect.js"],"sourcesContent":["import { useIsomorphicLayoutEffect, useMemoizedFn } from 'ahooks';\nexport function useResizeEffect(effect, targetRef) {\n  const fn = useMemoizedFn(effect);\n  useIsomorphicLayoutEffect(() => {\n    const target = targetRef.current;\n    if (!target) return;\n\n    if (window.ResizeObserver) {\n      let animationFrame;\n      const observer = new ResizeObserver(() => {\n        animationFrame = window.requestAnimationFrame(() => fn(target));\n      });\n      observer.observe(target);\n      return () => {\n        window.cancelAnimationFrame(animationFrame);\n        observer.disconnect();\n      };\n    } else {\n      fn(target);\n    }\n  }, [targetRef]);\n}"],"mappings":"AAAA,SAASA,yBAAT,EAAoCC,aAApC,QAAyD,QAAzD;AACA,OAAO,SAASC,eAAT,CAAyBC,MAAzB,EAAiCC,SAAjC,EAA4C;EACjD,MAAMC,EAAE,GAAGJ,aAAa,CAACE,MAAD,CAAxB;EACAH,yBAAyB,CAAC,MAAM;IAC9B,MAAMM,MAAM,GAAGF,SAAS,CAACG,OAAzB;IACA,IAAI,CAACD,MAAL,EAAa;;IAEb,IAAIE,MAAM,CAACC,cAAX,EAA2B;MACzB,IAAIC,cAAJ;MACA,MAAMC,QAAQ,GAAG,IAAIF,cAAJ,CAAmB,MAAM;QACxCC,cAAc,GAAGF,MAAM,CAACI,qBAAP,CAA6B,MAAMP,EAAE,CAACC,MAAD,CAArC,CAAjB;MACD,CAFgB,CAAjB;MAGAK,QAAQ,CAACE,OAAT,CAAiBP,MAAjB;MACA,OAAO,MAAM;QACXE,MAAM,CAACM,oBAAP,CAA4BJ,cAA5B;QACAC,QAAQ,CAACI,UAAT;MACD,CAHD;IAID,CAVD,MAUO;MACLV,EAAE,CAACC,MAAD,CAAF;IACD;EACF,CAjBwB,EAiBtB,CAACF,SAAD,CAjBsB,CAAzB;AAkBD"},"metadata":{},"sourceType":"module"}