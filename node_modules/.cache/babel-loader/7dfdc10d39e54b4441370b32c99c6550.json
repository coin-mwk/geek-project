{"ast":null,"code":"var _jsxFileName = \"/Users/tonystark/code/VSCodeProject/react/gk-h5/src/pages/Home/components/ArticleItem/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styles from './index.module.scss';\nimport classnames from \"classnames\";\nimport Icon from \"@/components/Icon\";\nimport Image from \"@/components/Image\";\nimport dayjs from \"dayjs\"; // 导入dayjs中文包\n\nimport 'dayjs/locale/zh-cn';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport { setFeedbackAction } from \"@/store/actions/home\"; // 扩展dayjs，使其具有显示相对时间的功能\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndayjs.extend(relativeTime);\ndayjs.locale('zh-cn');\nexport default function ArticleItem(_ref) {\n  _s();\n\n  let {\n    article\n  } = _ref;\n  const dispatch = useDispatch();\n  const {\n    cover: {\n      type,\n      images\n    },\n    title,\n    aut_name,\n    comm_count,\n    pubdate\n  } = article;\n  console.log(\"====\", article);\n  const isLogin = useSelector(state => !!state.login.token);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.root,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classnames('article-content', type === 3 ? 't3' : '', type === 0 ? 'none-mt' : ''),\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), type !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"article-imgs\",\n        children: images.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"article-img-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: item,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classnames('article-info', type === 0 ? 'none-mt' : ''),\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Leo Fitz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [comm_count, \" \\u8BC4\\u8BBA\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: dayjs(pubdate).fromNow()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), !!isLogin && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close\",\n        onClick: e => {\n          // 防止事件穿透\n          e.stopPropagation(); // 调用传入的回调函数，并将当前文章ID作为参数传出\n        },\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          type: \"icon-close2\",\n          onClick: () => dispatch(setFeedbackAction({\n            visible: true,\n            articleId: article.art_id\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ArticleItem, \"BuucPMAcBGE5BvXzs9V/IELQEEY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = ArticleItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticleItem\");","map":{"version":3,"names":["useDispatch","useSelector","styles","classnames","Icon","Image","dayjs","relativeTime","setFeedbackAction","extend","locale","ArticleItem","article","dispatch","cover","type","images","title","aut_name","comm_count","pubdate","console","log","isLogin","state","login","token","root","map","item","i","fromNow","e","stopPropagation","visible","articleId","art_id"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/src/pages/Home/components/ArticleItem/index.jsx"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\nimport styles from './index.module.scss';\nimport classnames from \"classnames\";\nimport Icon from \"@/components/Icon\";\nimport Image from \"@/components/Image\";\nimport dayjs from \"dayjs\";\n// 导入dayjs中文包\nimport 'dayjs/locale/zh-cn';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport { setFeedbackAction } from \"@/store/actions/home\";\n// 扩展dayjs，使其具有显示相对时间的功能\ndayjs.extend(relativeTime);\ndayjs.locale('zh-cn')\n\n\n\nexport default function ArticleItem({ article }) {\n  const dispatch = useDispatch();\n  const {\n    cover: { type, images },\n    title,\n    aut_name,\n    comm_count,\n    pubdate,\n  } = article;\n  console.log(\"====\",article)\n  const isLogin = useSelector((state) => !!state.login.token);\n  return (\n    <div className={styles.root}>\n      <div\n        className={classnames(\n          'article-content',\n          type === 3 ? 't3' : '',\n          type === 0 ? 'none-mt' : ''\n        )}\n      >\n        <h3>{title}</h3>\n        {type !== 0 && (\n          <div className=\"article-imgs\">\n            {images.map((item, i) => (\n              <div className=\"article-img-wrapper\" key={i}>\n                <Image src={item} alt=\"\" />\n                {/* <img src={item} alt=\"\" /> */}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n      <div className={classnames('article-info', type === 0 ? 'none-mt' : '')}>\n        <span>Leo Fitz</span>\n        {/* aut_name信息被篡改，用Leo Fitz */}\n        {/* <span>{aut_name}</span> */}\n        <span>{comm_count} 评论</span>\n        {/* <span>{pubdate}</span> */}\n        <span>{dayjs(pubdate).fromNow()}</span>\n\n\n        {/* 只有登录用户可以举报反馈 */}\n        {!!isLogin && (\n          <span className=\"close\" onClick={e => {\n            // 防止事件穿透\n            e.stopPropagation()\n            // 调用传入的回调函数，并将当前文章ID作为参数传出\n          }}>\n            <Icon type=\"icon-close2\" onClick={()=>dispatch(setFeedbackAction({\n              visible:true,\n              articleId:article.art_id\n            }))}/>\n          </span>\n        )}\n\n      </div>\n    </div>\n  )\n}"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAO,oBAAP;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,SAASC,iBAAT,QAAkC,sBAAlC,C,CACA;;;AACAF,KAAK,CAACG,MAAN,CAAaF,YAAb;AACAD,KAAK,CAACI,MAAN,CAAa,OAAb;AAIA,eAAe,SAASC,WAAT,OAAkC;EAAA;;EAAA,IAAb;IAAEC;EAAF,CAAa;EAC/C,MAAMC,QAAQ,GAAGb,WAAW,EAA5B;EACA,MAAM;IACJc,KAAK,EAAE;MAAEC,IAAF;MAAQC;IAAR,CADH;IAEJC,KAFI;IAGJC,QAHI;IAIJC,UAJI;IAKJC;EALI,IAMFR,OANJ;EAOAS,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBV,OAAnB;EACA,MAAMW,OAAO,GAAGtB,WAAW,CAAEuB,KAAD,IAAW,CAAC,CAACA,KAAK,CAACC,KAAN,CAAYC,KAA1B,CAA3B;EACA,oBACE;IAAK,SAAS,EAAExB,MAAM,CAACyB,IAAvB;IAAA,wBACE;MACE,SAAS,EAAExB,UAAU,CACnB,iBADmB,EAEnBY,IAAI,KAAK,CAAT,GAAa,IAAb,GAAoB,EAFD,EAGnBA,IAAI,KAAK,CAAT,GAAa,SAAb,GAAyB,EAHN,CADvB;MAAA,wBAOE;QAAA,UAAKE;MAAL;QAAA;QAAA;QAAA;MAAA,QAPF,EAQGF,IAAI,KAAK,CAAT,iBACC;QAAK,SAAS,EAAC,cAAf;QAAA,UACGC,MAAM,CAACY,GAAP,CAAW,CAACC,IAAD,EAAOC,CAAP,kBACV;UAAK,SAAS,EAAC,qBAAf;UAAA,uBACE,QAAC,KAAD;YAAO,GAAG,EAAED,IAAZ;YAAkB,GAAG,EAAC;UAAtB;YAAA;YAAA;YAAA;UAAA;QADF,GAA0CC,CAA1C;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QATJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAoBE;MAAK,SAAS,EAAE3B,UAAU,CAAC,cAAD,EAAiBY,IAAI,KAAK,CAAT,GAAa,SAAb,GAAyB,EAA1C,CAA1B;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAIE;QAAA,WAAOI,UAAP;MAAA;QAAA;QAAA;QAAA;MAAA,QAJF,eAME;QAAA,UAAOb,KAAK,CAACc,OAAD,CAAL,CAAeW,OAAf;MAAP;QAAA;QAAA;QAAA;MAAA,QANF,EAUG,CAAC,CAACR,OAAF,iBACC;QAAM,SAAS,EAAC,OAAhB;QAAwB,OAAO,EAAES,CAAC,IAAI;UACpC;UACAA,CAAC,CAACC,eAAF,GAFoC,CAGpC;QACD,CAJD;QAAA,uBAKE,QAAC,IAAD;UAAM,IAAI,EAAC,aAAX;UAAyB,OAAO,EAAE,MAAIpB,QAAQ,CAACL,iBAAiB,CAAC;YAC/D0B,OAAO,EAAC,IADuD;YAE/DC,SAAS,EAACvB,OAAO,CAACwB;UAF6C,CAAD,CAAlB;QAA9C;UAAA;UAAA;UAAA;QAAA;MALF;QAAA;QAAA;QAAA;MAAA,QAXJ;IAAA;MAAA;MAAA;MAAA;IAAA,QApBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA+CD;;GA1DuBzB,W;UACLX,W,EASDC,W;;;KAVMU,W"},"metadata":{},"sourceType":"module"}