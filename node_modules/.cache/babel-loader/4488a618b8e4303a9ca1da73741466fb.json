{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\n\nfunction getOffset(ele) {\n  var el = ele;\n  var _x = 0;\n  var _y = 0;\n\n  while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {\n    _x += el.offsetLeft - el.scrollLeft;\n    _y += el.offsetTop - el.scrollTop;\n    el = el.offsetParent;\n  }\n\n  return {\n    top: _y,\n    left: _x\n  };\n}\n\nvar CANCEL_DISTANCE_ON_SCROLL = 20;\n\nvar Drawer = function (_React$Component) {\n  _inherits(Drawer, _React$Component);\n\n  function Drawer(props) {\n    _classCallCheck(this, Drawer);\n\n    var _this = _possibleConstructorReturn(this, (Drawer.__proto__ || Object.getPrototypeOf(Drawer)).call(this, props));\n\n    _this.onOverlayClicked = function () {\n      if (_this.props.open) {\n        // see https://github.com/react-component/drawer/issues/9\n        setTimeout(function () {\n          _this.props.onOpenChange(false, {\n            overlayClicked: true\n          });\n        }, 0);\n      }\n    };\n\n    _this.onTouchStart = function (ev) {\n      // filter out if a user starts swiping with a second finger\n      if (!_this.isTouching()) {\n        var touch = ev.targetTouches[0];\n\n        _this.setState({\n          touchIdentifier: !_this.notTouch ? touch.identifier : null,\n          touchStartX: touch.clientX,\n          touchStartY: touch.clientY,\n          touchCurrentX: touch.clientX,\n          touchCurrentY: touch.clientY\n        });\n      }\n    };\n\n    _this.onTouchMove = function (ev) {\n      // ev.preventDefault(); // cannot touchmove with FastClick\n      if (_this.isTouching()) {\n        for (var ind = 0; ind < ev.targetTouches.length; ind++) {\n          // we only care about the finger that we are tracking\n          if (ev.targetTouches[ind].identifier === _this.state.touchIdentifier) {\n            _this.setState({\n              touchCurrentX: ev.targetTouches[ind].clientX,\n              touchCurrentY: ev.targetTouches[ind].clientY\n            });\n\n            break;\n          }\n        }\n      }\n    };\n\n    _this.onTouchEnd = function () {\n      _this.notTouch = false;\n\n      if (_this.isTouching()) {\n        // trigger a change to open if sidebar has been dragged beyond dragToggleDistance\n        var touchWidth = _this.touchSidebarWidth();\n\n        if (_this.props.open && touchWidth < _this.state.sidebarWidth - _this.props.dragToggleDistance || !_this.props.open && touchWidth > _this.props.dragToggleDistance) {\n          _this.props.onOpenChange(!_this.props.open);\n        }\n\n        var touchHeight = _this.touchSidebarHeight();\n\n        if (_this.props.open && touchHeight < _this.state.sidebarHeight - _this.props.dragToggleDistance || !_this.props.open && touchHeight > _this.props.dragToggleDistance) {\n          _this.props.onOpenChange(!_this.props.open);\n        }\n\n        _this.setState({\n          touchIdentifier: null,\n          touchStartX: null,\n          touchStartY: null,\n          touchCurrentX: null,\n          touchCurrentY: null\n        });\n      }\n    };\n\n    _this.onScroll = function () {\n      if (_this.isTouching() && _this.inCancelDistanceOnScroll()) {\n        _this.setState({\n          touchIdentifier: null,\n          touchStartX: null,\n          touchStartY: null,\n          touchCurrentX: null,\n          touchCurrentY: null\n        });\n      }\n    };\n\n    _this.inCancelDistanceOnScroll = function () {\n      var cancelDistanceOnScroll = void 0;\n\n      switch (_this.props.position) {\n        case 'right':\n          cancelDistanceOnScroll = Math.abs(_this.state.touchCurrentX - _this.state.touchStartX) < CANCEL_DISTANCE_ON_SCROLL;\n          break;\n\n        case 'bottom':\n          cancelDistanceOnScroll = Math.abs(_this.state.touchCurrentY - _this.state.touchStartY) < CANCEL_DISTANCE_ON_SCROLL;\n          break;\n\n        case 'top':\n          cancelDistanceOnScroll = Math.abs(_this.state.touchStartY - _this.state.touchCurrentY) < CANCEL_DISTANCE_ON_SCROLL;\n          break;\n\n        case 'left':\n        default:\n          cancelDistanceOnScroll = Math.abs(_this.state.touchStartX - _this.state.touchCurrentX) < CANCEL_DISTANCE_ON_SCROLL;\n      }\n\n      return cancelDistanceOnScroll;\n    };\n\n    _this.isTouching = function () {\n      return _this.state.touchIdentifier !== null;\n    };\n\n    _this.saveSidebarSize = function () {\n      var sidebar = ReactDOM.findDOMNode(_this.refs.sidebar);\n      var width = sidebar.offsetWidth;\n      var height = sidebar.offsetHeight;\n      var sidebarTop = getOffset(ReactDOM.findDOMNode(_this.refs.sidebar)).top;\n      var dragHandleTop = getOffset(ReactDOM.findDOMNode(_this.refs.dragHandle)).top;\n\n      if (width !== _this.state.sidebarWidth) {\n        _this.setState({\n          sidebarWidth: width\n        });\n      }\n\n      if (height !== _this.state.sidebarHeight) {\n        _this.setState({\n          sidebarHeight: height\n        });\n      }\n\n      if (sidebarTop !== _this.state.sidebarTop) {\n        _this.setState({\n          sidebarTop: sidebarTop\n        });\n      }\n\n      if (dragHandleTop !== _this.state.dragHandleTop) {\n        _this.setState({\n          dragHandleTop: dragHandleTop\n        });\n      }\n    };\n\n    _this.touchSidebarWidth = function () {\n      // if the sidebar is open and start point of drag is inside the sidebar\n      // we will only drag the distance they moved their finger\n      // otherwise we will move the sidebar to be below the finger.\n      if (_this.props.position === 'right') {\n        if (_this.props.open && window.innerWidth - _this.state.touchStartX < _this.state.sidebarWidth) {\n          if (_this.state.touchCurrentX > _this.state.touchStartX) {\n            return _this.state.sidebarWidth + _this.state.touchStartX - _this.state.touchCurrentX;\n          }\n\n          return _this.state.sidebarWidth;\n        }\n\n        return Math.min(window.innerWidth - _this.state.touchCurrentX, _this.state.sidebarWidth);\n      }\n\n      if (_this.props.position === 'left') {\n        if (_this.props.open && _this.state.touchStartX < _this.state.sidebarWidth) {\n          if (_this.state.touchCurrentX > _this.state.touchStartX) {\n            return _this.state.sidebarWidth;\n          }\n\n          return _this.state.sidebarWidth - _this.state.touchStartX + _this.state.touchCurrentX;\n        }\n\n        return Math.min(_this.state.touchCurrentX, _this.state.sidebarWidth);\n      }\n    };\n\n    _this.touchSidebarHeight = function () {\n      // if the sidebar is open and start point of drag is inside the sidebar\n      // we will only drag the distance they moved their finger\n      // otherwise we will move the sidebar to be below the finger.\n      if (_this.props.position === 'bottom') {\n        if (_this.props.open && window.innerHeight - _this.state.touchStartY < _this.state.sidebarHeight) {\n          if (_this.state.touchCurrentY > _this.state.touchStartY) {\n            return _this.state.sidebarHeight + _this.state.touchStartY - _this.state.touchCurrentY;\n          }\n\n          return _this.state.sidebarHeight;\n        }\n\n        return Math.min(window.innerHeight - _this.state.touchCurrentY, _this.state.sidebarHeight);\n      }\n\n      if (_this.props.position === 'top') {\n        var touchStartOffsetY = _this.state.touchStartY - _this.state.sidebarTop;\n\n        if (_this.props.open && touchStartOffsetY < _this.state.sidebarHeight) {\n          if (_this.state.touchCurrentY > _this.state.touchStartY) {\n            return _this.state.sidebarHeight;\n          }\n\n          return _this.state.sidebarHeight - _this.state.touchStartY + _this.state.touchCurrentY;\n        }\n\n        return Math.min(_this.state.touchCurrentY - _this.state.dragHandleTop, _this.state.sidebarHeight);\n      }\n    };\n\n    _this.renderStyle = function (_ref) {\n      var sidebarStyle = _ref.sidebarStyle,\n          isTouching = _ref.isTouching,\n          overlayStyle = _ref.overlayStyle,\n          contentStyle = _ref.contentStyle;\n\n      if (_this.props.position === 'right' || _this.props.position === 'left') {\n        sidebarStyle.transform = 'translateX(0%)';\n        sidebarStyle.WebkitTransform = 'translateX(0%)';\n\n        if (isTouching) {\n          var percentage = _this.touchSidebarWidth() / _this.state.sidebarWidth; // slide open to what we dragged\n\n\n          if (_this.props.position === 'right') {\n            sidebarStyle.transform = 'translateX(' + (1 - percentage) * 100 + '%)';\n            sidebarStyle.WebkitTransform = 'translateX(' + (1 - percentage) * 100 + '%)';\n          }\n\n          if (_this.props.position === 'left') {\n            sidebarStyle.transform = 'translateX(-' + (1 - percentage) * 100 + '%)';\n            sidebarStyle.WebkitTransform = 'translateX(-' + (1 - percentage) * 100 + '%)';\n          } // fade overlay to match distance of drag\n\n\n          overlayStyle.opacity = percentage;\n          overlayStyle.visibility = 'visible';\n        }\n\n        if (contentStyle) {\n          contentStyle[_this.props.position] = _this.state.sidebarWidth + 'px';\n        }\n      }\n\n      if (_this.props.position === 'top' || _this.props.position === 'bottom') {\n        sidebarStyle.transform = 'translateY(0%)';\n        sidebarStyle.WebkitTransform = 'translateY(0%)';\n\n        if (isTouching) {\n          var _percentage = _this.touchSidebarHeight() / _this.state.sidebarHeight; // slide open to what we dragged\n\n\n          if (_this.props.position === 'bottom') {\n            sidebarStyle.transform = 'translateY(' + (1 - _percentage) * 100 + '%)';\n            sidebarStyle.WebkitTransform = 'translateY(' + (1 - _percentage) * 100 + '%)';\n          }\n\n          if (_this.props.position === 'top') {\n            sidebarStyle.transform = 'translateY(-' + (1 - _percentage) * 100 + '%)';\n            sidebarStyle.WebkitTransform = 'translateY(-' + (1 - _percentage) * 100 + '%)';\n          } // fade overlay to match distance of drag\n\n\n          overlayStyle.opacity = _percentage;\n          overlayStyle.visibility = 'visible';\n        }\n\n        if (contentStyle) {\n          contentStyle[_this.props.position] = _this.state.sidebarHeight + 'px';\n        }\n      }\n    };\n\n    _this.state = {\n      // the detected width of the sidebar in pixels\n      sidebarWidth: 0,\n      sidebarHeight: 0,\n      sidebarTop: 0,\n      dragHandleTop: 0,\n      // keep track of touching params\n      touchIdentifier: null,\n      touchStartX: null,\n      touchStartY: null,\n      touchCurrentX: null,\n      touchCurrentY: null,\n      // if touch is supported by the browser\n      touchSupported: (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && 'ontouchstart' in window\n    };\n    return _this;\n  }\n\n  _createClass(Drawer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.saveSidebarSize();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      // filter out the updates when we're touching\n      if (!this.isTouching()) {\n        this.saveSidebarSize();\n      }\n    } // This logic helps us prevents the user from sliding the sidebar horizontally\n    // while scrolling the sidebar vertically. When a scroll event comes in, we're\n    // cancelling the ongoing gesture if it did not move horizontally much.\n    // True if the on going gesture X distance is less than the cancel distance\n    // calculate the sidebarWidth based on current touch info\n    // calculate the sidebarHeight based on current touch info\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _rootCls,\n          _this2 = this;\n\n      var _props = this.props,\n          className = _props.className,\n          style = _props.style,\n          prefixCls = _props.prefixCls,\n          position = _props.position,\n          transitions = _props.transitions,\n          touch = _props.touch,\n          enableDragHandle = _props.enableDragHandle,\n          sidebar = _props.sidebar,\n          children = _props.children,\n          docked = _props.docked,\n          open = _props.open;\n\n      var sidebarStyle = _extends({}, this.props.sidebarStyle);\n\n      var contentStyle = _extends({}, this.props.contentStyle);\n\n      var overlayStyle = _extends({}, this.props.overlayStyle);\n\n      var rootCls = (_rootCls = {}, _defineProperty(_rootCls, className, !!className), _defineProperty(_rootCls, prefixCls, true), _defineProperty(_rootCls, prefixCls + '-' + position, true), _rootCls);\n      var rootProps = {\n        style: style\n      };\n      var isTouching = this.isTouching();\n\n      if (isTouching) {\n        this.renderStyle({\n          sidebarStyle: sidebarStyle,\n          isTouching: true,\n          overlayStyle: overlayStyle\n        });\n      } else if (docked) {\n        if (this.state.sidebarWidth !== 0) {\n          rootCls[prefixCls + '-docked'] = true;\n          this.renderStyle({\n            sidebarStyle: sidebarStyle,\n            contentStyle: contentStyle\n          });\n        }\n      } else if (open) {\n        rootCls[prefixCls + '-open'] = true;\n        this.renderStyle({\n          sidebarStyle: sidebarStyle\n        });\n        overlayStyle.opacity = 1;\n        overlayStyle.visibility = 'visible';\n      }\n\n      if (isTouching || !transitions) {\n        sidebarStyle.transition = 'none';\n        sidebarStyle.WebkitTransition = 'none';\n        contentStyle.transition = 'none';\n        overlayStyle.transition = 'none';\n      }\n\n      var dragHandle = null;\n\n      if (this.state.touchSupported && touch) {\n        if (open) {\n          rootProps.onTouchStart = function (ev) {\n            _this2.notTouch = true;\n\n            _this2.onTouchStart(ev);\n          };\n\n          rootProps.onTouchMove = this.onTouchMove;\n          rootProps.onTouchEnd = this.onTouchEnd;\n          rootProps.onTouchCancel = this.onTouchEnd;\n          rootProps.onScroll = this.onScroll;\n        } else if (enableDragHandle) {\n          dragHandle = React.createElement('div', {\n            className: prefixCls + '-draghandle',\n            style: this.props.dragHandleStyle,\n            onTouchStart: this.onTouchStart,\n            onTouchMove: this.onTouchMove,\n            onTouchEnd: this.onTouchEnd,\n            onTouchCancel: this.onTouchEnd,\n            ref: 'dragHandle'\n          });\n        }\n      } // const evt = {};\n      // // FastClick use touchstart instead of click\n      // if (this.state.touchSupported) {\n      //   evt.onTouchStart = () => {\n      //     this.notTouch = true;\n      //     this.onOverlayClicked();\n      //   };\n      //   evt.onTouchEnd = () => {\n      //     this.notTouch = false;\n      //     this.setState({\n      //       touchIdentifier: null,\n      //     });\n      //   };\n      // } else {\n      //   evt.onClick = this.onOverlayClicked;\n      // }\n\n\n      return React.createElement('div', _extends({\n        className: classNames(rootCls)\n      }, rootProps), React.createElement('div', {\n        className: prefixCls + '-sidebar',\n        style: sidebarStyle,\n        ref: 'sidebar'\n      }, sidebar), React.createElement('div', {\n        className: prefixCls + '-overlay',\n        style: overlayStyle,\n        role: 'presentation',\n        ref: 'overlay',\n        onClick: this.onOverlayClicked\n      }), React.createElement('div', {\n        className: prefixCls + '-content',\n        style: contentStyle,\n        ref: 'content'\n      }, dragHandle, children));\n    }\n  }]);\n\n  return Drawer;\n}(React.Component);\n\nDrawer.propTypes = {\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  // main content to render\n  children: PropTypes.node.isRequired,\n  // styles\n  // styles: PropTypes.shape({\n  //   dragHandle: PropTypes.object,\n  // }),\n  style: PropTypes.object,\n  sidebarStyle: PropTypes.object,\n  contentStyle: PropTypes.object,\n  overlayStyle: PropTypes.object,\n  dragHandleStyle: PropTypes.object,\n  // sidebar content to render\n  sidebar: PropTypes.node.isRequired,\n  // boolean if sidebar should be docked\n  docked: PropTypes.bool,\n  // boolean if sidebar should slide open\n  open: PropTypes.bool,\n  // boolean if transitions should be disabled\n  transitions: PropTypes.bool,\n  // boolean if touch gestures are enabled\n  touch: PropTypes.bool,\n  enableDragHandle: PropTypes.bool,\n  // where to place the sidebar\n  position: PropTypes.oneOf(['left', 'right', 'top', 'bottom']),\n  // distance we have to drag the sidebar to toggle open state\n  dragToggleDistance: PropTypes.number,\n  // callback called when the overlay is clicked\n  onOpenChange: PropTypes.func\n};\nDrawer.defaultProps = {\n  prefixCls: 'rmc-drawer',\n  sidebarStyle: {},\n  contentStyle: {},\n  overlayStyle: {},\n  dragHandleStyle: {},\n  docked: false,\n  open: false,\n  transitions: true,\n  touch: true,\n  enableDragHandle: true,\n  position: 'left',\n  dragToggleDistance: 30,\n  onOpenChange: function onOpenChange() {}\n};\nexport default Drawer;","map":{"version":3,"names":["_defineProperty","_extends","_typeof","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","ReactDOM","classNames","getOffset","ele","el","_x","_y","isNaN","offsetLeft","offsetTop","scrollLeft","scrollTop","offsetParent","top","left","CANCEL_DISTANCE_ON_SCROLL","Drawer","_React$Component","props","_this","__proto__","Object","getPrototypeOf","call","onOverlayClicked","open","setTimeout","onOpenChange","overlayClicked","onTouchStart","ev","isTouching","touch","targetTouches","setState","touchIdentifier","notTouch","identifier","touchStartX","clientX","touchStartY","clientY","touchCurrentX","touchCurrentY","onTouchMove","ind","length","state","onTouchEnd","touchWidth","touchSidebarWidth","sidebarWidth","dragToggleDistance","touchHeight","touchSidebarHeight","sidebarHeight","onScroll","inCancelDistanceOnScroll","cancelDistanceOnScroll","position","Math","abs","saveSidebarSize","sidebar","findDOMNode","refs","width","offsetWidth","height","offsetHeight","sidebarTop","dragHandleTop","dragHandle","window","innerWidth","min","innerHeight","touchStartOffsetY","renderStyle","_ref","sidebarStyle","overlayStyle","contentStyle","transform","WebkitTransform","percentage","opacity","visibility","_percentage","touchSupported","key","value","componentDidMount","componentDidUpdate","render","_rootCls","_this2","_props","className","style","prefixCls","transitions","enableDragHandle","children","docked","rootCls","rootProps","transition","WebkitTransition","onTouchCancel","createElement","dragHandleStyle","ref","role","onClick","Component","propTypes","string","node","isRequired","object","bool","oneOf","number","func","defaultProps"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/rmc-drawer/es/Drawer.js"],"sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\n\nfunction getOffset(ele) {\n  var el = ele;\n  var _x = 0;\n  var _y = 0;\n  while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {\n    _x += el.offsetLeft - el.scrollLeft;\n    _y += el.offsetTop - el.scrollTop;\n    el = el.offsetParent;\n  }\n  return { top: _y, left: _x };\n}\n\nvar CANCEL_DISTANCE_ON_SCROLL = 20;\n\nvar Drawer = function (_React$Component) {\n  _inherits(Drawer, _React$Component);\n\n  function Drawer(props) {\n    _classCallCheck(this, Drawer);\n\n    var _this = _possibleConstructorReturn(this, (Drawer.__proto__ || Object.getPrototypeOf(Drawer)).call(this, props));\n\n    _this.onOverlayClicked = function () {\n      if (_this.props.open) {\n        // see https://github.com/react-component/drawer/issues/9\n        setTimeout(function () {\n          _this.props.onOpenChange(false, { overlayClicked: true });\n        }, 0);\n      }\n    };\n\n    _this.onTouchStart = function (ev) {\n      // filter out if a user starts swiping with a second finger\n      if (!_this.isTouching()) {\n        var touch = ev.targetTouches[0];\n        _this.setState({\n          touchIdentifier: !_this.notTouch ? touch.identifier : null,\n          touchStartX: touch.clientX,\n          touchStartY: touch.clientY,\n          touchCurrentX: touch.clientX,\n          touchCurrentY: touch.clientY\n        });\n      }\n    };\n\n    _this.onTouchMove = function (ev) {\n      // ev.preventDefault(); // cannot touchmove with FastClick\n      if (_this.isTouching()) {\n        for (var ind = 0; ind < ev.targetTouches.length; ind++) {\n          // we only care about the finger that we are tracking\n          if (ev.targetTouches[ind].identifier === _this.state.touchIdentifier) {\n            _this.setState({\n              touchCurrentX: ev.targetTouches[ind].clientX,\n              touchCurrentY: ev.targetTouches[ind].clientY\n            });\n            break;\n          }\n        }\n      }\n    };\n\n    _this.onTouchEnd = function () {\n      _this.notTouch = false;\n      if (_this.isTouching()) {\n        // trigger a change to open if sidebar has been dragged beyond dragToggleDistance\n        var touchWidth = _this.touchSidebarWidth();\n\n        if (_this.props.open && touchWidth < _this.state.sidebarWidth - _this.props.dragToggleDistance || !_this.props.open && touchWidth > _this.props.dragToggleDistance) {\n          _this.props.onOpenChange(!_this.props.open);\n        }\n\n        var touchHeight = _this.touchSidebarHeight();\n\n        if (_this.props.open && touchHeight < _this.state.sidebarHeight - _this.props.dragToggleDistance || !_this.props.open && touchHeight > _this.props.dragToggleDistance) {\n          _this.props.onOpenChange(!_this.props.open);\n        }\n\n        _this.setState({\n          touchIdentifier: null,\n          touchStartX: null,\n          touchStartY: null,\n          touchCurrentX: null,\n          touchCurrentY: null\n        });\n      }\n    };\n\n    _this.onScroll = function () {\n      if (_this.isTouching() && _this.inCancelDistanceOnScroll()) {\n        _this.setState({\n          touchIdentifier: null,\n          touchStartX: null,\n          touchStartY: null,\n          touchCurrentX: null,\n          touchCurrentY: null\n        });\n      }\n    };\n\n    _this.inCancelDistanceOnScroll = function () {\n      var cancelDistanceOnScroll = void 0;\n      switch (_this.props.position) {\n        case 'right':\n          cancelDistanceOnScroll = Math.abs(_this.state.touchCurrentX - _this.state.touchStartX) < CANCEL_DISTANCE_ON_SCROLL;\n          break;\n        case 'bottom':\n          cancelDistanceOnScroll = Math.abs(_this.state.touchCurrentY - _this.state.touchStartY) < CANCEL_DISTANCE_ON_SCROLL;\n          break;\n        case 'top':\n          cancelDistanceOnScroll = Math.abs(_this.state.touchStartY - _this.state.touchCurrentY) < CANCEL_DISTANCE_ON_SCROLL;\n          break;\n        case 'left':\n        default:\n          cancelDistanceOnScroll = Math.abs(_this.state.touchStartX - _this.state.touchCurrentX) < CANCEL_DISTANCE_ON_SCROLL;\n      }\n      return cancelDistanceOnScroll;\n    };\n\n    _this.isTouching = function () {\n      return _this.state.touchIdentifier !== null;\n    };\n\n    _this.saveSidebarSize = function () {\n      var sidebar = ReactDOM.findDOMNode(_this.refs.sidebar);\n      var width = sidebar.offsetWidth;\n      var height = sidebar.offsetHeight;\n      var sidebarTop = getOffset(ReactDOM.findDOMNode(_this.refs.sidebar)).top;\n      var dragHandleTop = getOffset(ReactDOM.findDOMNode(_this.refs.dragHandle)).top;\n\n      if (width !== _this.state.sidebarWidth) {\n        _this.setState({ sidebarWidth: width });\n      }\n      if (height !== _this.state.sidebarHeight) {\n        _this.setState({ sidebarHeight: height });\n      }\n      if (sidebarTop !== _this.state.sidebarTop) {\n        _this.setState({ sidebarTop: sidebarTop });\n      }\n      if (dragHandleTop !== _this.state.dragHandleTop) {\n        _this.setState({ dragHandleTop: dragHandleTop });\n      }\n    };\n\n    _this.touchSidebarWidth = function () {\n      // if the sidebar is open and start point of drag is inside the sidebar\n      // we will only drag the distance they moved their finger\n      // otherwise we will move the sidebar to be below the finger.\n      if (_this.props.position === 'right') {\n        if (_this.props.open && window.innerWidth - _this.state.touchStartX < _this.state.sidebarWidth) {\n          if (_this.state.touchCurrentX > _this.state.touchStartX) {\n            return _this.state.sidebarWidth + _this.state.touchStartX - _this.state.touchCurrentX;\n          }\n          return _this.state.sidebarWidth;\n        }\n        return Math.min(window.innerWidth - _this.state.touchCurrentX, _this.state.sidebarWidth);\n      }\n\n      if (_this.props.position === 'left') {\n        if (_this.props.open && _this.state.touchStartX < _this.state.sidebarWidth) {\n          if (_this.state.touchCurrentX > _this.state.touchStartX) {\n            return _this.state.sidebarWidth;\n          }\n          return _this.state.sidebarWidth - _this.state.touchStartX + _this.state.touchCurrentX;\n        }\n        return Math.min(_this.state.touchCurrentX, _this.state.sidebarWidth);\n      }\n    };\n\n    _this.touchSidebarHeight = function () {\n      // if the sidebar is open and start point of drag is inside the sidebar\n      // we will only drag the distance they moved their finger\n      // otherwise we will move the sidebar to be below the finger.\n      if (_this.props.position === 'bottom') {\n        if (_this.props.open && window.innerHeight - _this.state.touchStartY < _this.state.sidebarHeight) {\n          if (_this.state.touchCurrentY > _this.state.touchStartY) {\n            return _this.state.sidebarHeight + _this.state.touchStartY - _this.state.touchCurrentY;\n          }\n          return _this.state.sidebarHeight;\n        }\n        return Math.min(window.innerHeight - _this.state.touchCurrentY, _this.state.sidebarHeight);\n      }\n\n      if (_this.props.position === 'top') {\n        var touchStartOffsetY = _this.state.touchStartY - _this.state.sidebarTop;\n        if (_this.props.open && touchStartOffsetY < _this.state.sidebarHeight) {\n          if (_this.state.touchCurrentY > _this.state.touchStartY) {\n            return _this.state.sidebarHeight;\n          }\n          return _this.state.sidebarHeight - _this.state.touchStartY + _this.state.touchCurrentY;\n        }\n        return Math.min(_this.state.touchCurrentY - _this.state.dragHandleTop, _this.state.sidebarHeight);\n      }\n    };\n\n    _this.renderStyle = function (_ref) {\n      var sidebarStyle = _ref.sidebarStyle,\n          isTouching = _ref.isTouching,\n          overlayStyle = _ref.overlayStyle,\n          contentStyle = _ref.contentStyle;\n\n      if (_this.props.position === 'right' || _this.props.position === 'left') {\n        sidebarStyle.transform = 'translateX(0%)';\n        sidebarStyle.WebkitTransform = 'translateX(0%)';\n        if (isTouching) {\n          var percentage = _this.touchSidebarWidth() / _this.state.sidebarWidth;\n          // slide open to what we dragged\n          if (_this.props.position === 'right') {\n            sidebarStyle.transform = 'translateX(' + (1 - percentage) * 100 + '%)';\n            sidebarStyle.WebkitTransform = 'translateX(' + (1 - percentage) * 100 + '%)';\n          }\n          if (_this.props.position === 'left') {\n            sidebarStyle.transform = 'translateX(-' + (1 - percentage) * 100 + '%)';\n            sidebarStyle.WebkitTransform = 'translateX(-' + (1 - percentage) * 100 + '%)';\n          }\n          // fade overlay to match distance of drag\n          overlayStyle.opacity = percentage;\n          overlayStyle.visibility = 'visible';\n        }\n        if (contentStyle) {\n          contentStyle[_this.props.position] = _this.state.sidebarWidth + 'px';\n        }\n      }\n      if (_this.props.position === 'top' || _this.props.position === 'bottom') {\n        sidebarStyle.transform = 'translateY(0%)';\n        sidebarStyle.WebkitTransform = 'translateY(0%)';\n        if (isTouching) {\n          var _percentage = _this.touchSidebarHeight() / _this.state.sidebarHeight;\n          // slide open to what we dragged\n          if (_this.props.position === 'bottom') {\n            sidebarStyle.transform = 'translateY(' + (1 - _percentage) * 100 + '%)';\n            sidebarStyle.WebkitTransform = 'translateY(' + (1 - _percentage) * 100 + '%)';\n          }\n          if (_this.props.position === 'top') {\n            sidebarStyle.transform = 'translateY(-' + (1 - _percentage) * 100 + '%)';\n            sidebarStyle.WebkitTransform = 'translateY(-' + (1 - _percentage) * 100 + '%)';\n          }\n          // fade overlay to match distance of drag\n          overlayStyle.opacity = _percentage;\n          overlayStyle.visibility = 'visible';\n        }\n        if (contentStyle) {\n          contentStyle[_this.props.position] = _this.state.sidebarHeight + 'px';\n        }\n      }\n    };\n\n    _this.state = {\n      // the detected width of the sidebar in pixels\n      sidebarWidth: 0,\n      sidebarHeight: 0,\n      sidebarTop: 0,\n      dragHandleTop: 0,\n\n      // keep track of touching params\n      touchIdentifier: null,\n      touchStartX: null,\n      touchStartY: null,\n      touchCurrentX: null,\n      touchCurrentY: null,\n\n      // if touch is supported by the browser\n      touchSupported: (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && 'ontouchstart' in window\n    };\n    return _this;\n  }\n\n  _createClass(Drawer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.saveSidebarSize();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      // filter out the updates when we're touching\n      if (!this.isTouching()) {\n        this.saveSidebarSize();\n      }\n    }\n\n    // This logic helps us prevents the user from sliding the sidebar horizontally\n    // while scrolling the sidebar vertically. When a scroll event comes in, we're\n    // cancelling the ongoing gesture if it did not move horizontally much.\n\n\n    // True if the on going gesture X distance is less than the cancel distance\n\n\n    // calculate the sidebarWidth based on current touch info\n\n    // calculate the sidebarHeight based on current touch info\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _rootCls,\n          _this2 = this;\n\n      var _props = this.props,\n          className = _props.className,\n          style = _props.style,\n          prefixCls = _props.prefixCls,\n          position = _props.position,\n          transitions = _props.transitions,\n          touch = _props.touch,\n          enableDragHandle = _props.enableDragHandle,\n          sidebar = _props.sidebar,\n          children = _props.children,\n          docked = _props.docked,\n          open = _props.open;\n\n\n      var sidebarStyle = _extends({}, this.props.sidebarStyle);\n      var contentStyle = _extends({}, this.props.contentStyle);\n      var overlayStyle = _extends({}, this.props.overlayStyle);\n\n      var rootCls = (_rootCls = {}, _defineProperty(_rootCls, className, !!className), _defineProperty(_rootCls, prefixCls, true), _defineProperty(_rootCls, prefixCls + '-' + position, true), _rootCls);\n\n      var rootProps = { style: style };\n      var isTouching = this.isTouching();\n\n      if (isTouching) {\n        this.renderStyle({ sidebarStyle: sidebarStyle, isTouching: true, overlayStyle: overlayStyle });\n      } else if (docked) {\n        if (this.state.sidebarWidth !== 0) {\n          rootCls[prefixCls + '-docked'] = true;\n          this.renderStyle({ sidebarStyle: sidebarStyle, contentStyle: contentStyle });\n        }\n      } else if (open) {\n        rootCls[prefixCls + '-open'] = true;\n        this.renderStyle({ sidebarStyle: sidebarStyle });\n        overlayStyle.opacity = 1;\n        overlayStyle.visibility = 'visible';\n      }\n\n      if (isTouching || !transitions) {\n        sidebarStyle.transition = 'none';\n        sidebarStyle.WebkitTransition = 'none';\n        contentStyle.transition = 'none';\n        overlayStyle.transition = 'none';\n      }\n\n      var dragHandle = null;\n\n      if (this.state.touchSupported && touch) {\n        if (open) {\n          rootProps.onTouchStart = function (ev) {\n            _this2.notTouch = true;\n            _this2.onTouchStart(ev);\n          };\n          rootProps.onTouchMove = this.onTouchMove;\n          rootProps.onTouchEnd = this.onTouchEnd;\n          rootProps.onTouchCancel = this.onTouchEnd;\n          rootProps.onScroll = this.onScroll;\n        } else if (enableDragHandle) {\n          dragHandle = React.createElement('div', { className: prefixCls + '-draghandle', style: this.props.dragHandleStyle,\n            onTouchStart: this.onTouchStart, onTouchMove: this.onTouchMove,\n            onTouchEnd: this.onTouchEnd, onTouchCancel: this.onTouchEnd,\n            ref: 'dragHandle'\n          });\n        }\n      }\n\n      // const evt = {};\n      // // FastClick use touchstart instead of click\n      // if (this.state.touchSupported) {\n      //   evt.onTouchStart = () => {\n      //     this.notTouch = true;\n      //     this.onOverlayClicked();\n      //   };\n      //   evt.onTouchEnd = () => {\n      //     this.notTouch = false;\n      //     this.setState({\n      //       touchIdentifier: null,\n      //     });\n      //   };\n      // } else {\n      //   evt.onClick = this.onOverlayClicked;\n      // }\n\n      return React.createElement(\n        'div',\n        _extends({ className: classNames(rootCls) }, rootProps),\n        React.createElement(\n          'div',\n          { className: prefixCls + '-sidebar', style: sidebarStyle,\n            ref: 'sidebar'\n          },\n          sidebar\n        ),\n        React.createElement('div', { className: prefixCls + '-overlay',\n          style: overlayStyle,\n          role: 'presentation',\n          ref: 'overlay',\n          onClick: this.onOverlayClicked\n        }),\n        React.createElement(\n          'div',\n          { className: prefixCls + '-content', style: contentStyle,\n            ref: 'content'\n          },\n          dragHandle,\n          children\n        )\n      );\n    }\n  }]);\n\n  return Drawer;\n}(React.Component);\n\nDrawer.propTypes = {\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  // main content to render\n  children: PropTypes.node.isRequired,\n\n  // styles\n  // styles: PropTypes.shape({\n  //   dragHandle: PropTypes.object,\n  // }),\n  style: PropTypes.object,\n  sidebarStyle: PropTypes.object,\n  contentStyle: PropTypes.object,\n  overlayStyle: PropTypes.object,\n  dragHandleStyle: PropTypes.object,\n\n  // sidebar content to render\n  sidebar: PropTypes.node.isRequired,\n\n  // boolean if sidebar should be docked\n  docked: PropTypes.bool,\n\n  // boolean if sidebar should slide open\n  open: PropTypes.bool,\n\n  // boolean if transitions should be disabled\n  transitions: PropTypes.bool,\n\n  // boolean if touch gestures are enabled\n  touch: PropTypes.bool,\n  enableDragHandle: PropTypes.bool,\n\n  // where to place the sidebar\n  position: PropTypes.oneOf(['left', 'right', 'top', 'bottom']),\n\n  // distance we have to drag the sidebar to toggle open state\n  dragToggleDistance: PropTypes.number,\n\n  // callback called when the overlay is clicked\n  onOpenChange: PropTypes.func\n};\nDrawer.defaultProps = {\n  prefixCls: 'rmc-drawer',\n  sidebarStyle: {},\n  contentStyle: {},\n  overlayStyle: {},\n  dragHandleStyle: {},\n  docked: false,\n  open: false,\n  transitions: true,\n  touch: true,\n  enableDragHandle: true,\n  position: 'left',\n  dragToggleDistance: 30,\n  onOpenChange: function onOpenChange() {}\n};\nexport default Drawer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}