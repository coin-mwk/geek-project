{"ast":null,"code":"import React, { forwardRef, useContext, useImperativeHandle } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport classNames from 'classnames';\nimport { CheckboxGroupContext } from './group-context';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { devWarning } from '../../utils/dev-log';\nimport { CheckIcon } from './check-icon';\nimport { IndeterminateIcon } from './indeterminate-icon';\nimport { isDev } from '../../utils/is-dev';\nimport { NativeInput } from './native-input';\nconst classPrefix = `adm-checkbox`;\nconst defaultProps = {\n  defaultChecked: false,\n  indeterminate: false\n};\nexport const Checkbox = forwardRef((p, ref) => {\n  const groupContext = useContext(CheckboxGroupContext);\n  const props = mergeProps(defaultProps, p);\n  let [checked, setChecked] = usePropsValue({\n    value: props.checked,\n    defaultValue: props.defaultChecked,\n    onChange: props.onChange\n  });\n  let disabled = props.disabled;\n  const {\n    value\n  } = props;\n\n  if (groupContext && value !== undefined) {\n    if (isDev) {\n      if (p.checked !== undefined) {\n        devWarning('Checkbox', 'When used within `Checkbox.Group`, the `checked` prop of `Checkbox` will not work.');\n      }\n\n      if (p.defaultChecked !== undefined) {\n        devWarning('Checkbox', 'When used within `Checkbox.Group`, the `defaultChecked` prop of `Checkbox` will not work.');\n      }\n    }\n\n    checked = groupContext.value.includes(value);\n\n    setChecked = checked => {\n      var _a;\n\n      if (checked) {\n        groupContext.check(value);\n      } else {\n        groupContext.uncheck(value);\n      }\n\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, checked);\n    };\n\n    disabled = disabled || groupContext.disabled;\n  }\n\n  useImperativeHandle(ref, () => ({\n    check: () => {\n      setChecked(true);\n    },\n    uncheck: () => {\n      setChecked(false);\n    },\n    toggle: () => {\n      setChecked(!checked);\n    }\n  }));\n\n  const renderIcon = () => {\n    if (props.icon) {\n      return React.createElement(\"div\", {\n        className: `${classPrefix}-custom-icon`\n      }, props.icon(checked, props.indeterminate));\n    }\n\n    return React.createElement(\"div\", {\n      className: `${classPrefix}-icon`\n    }, props.indeterminate ? React.createElement(IndeterminateIcon, null) : checked && React.createElement(CheckIcon, null));\n  };\n\n  return withNativeProps(props, React.createElement(\"label\", {\n    className: classNames(classPrefix, {\n      [`${classPrefix}-checked`]: checked && !props.indeterminate,\n      [`${classPrefix}-indeterminate`]: props.indeterminate,\n      [`${classPrefix}-disabled`]: disabled,\n      [`${classPrefix}-block`]: props.block\n    })\n  }, React.createElement(NativeInput, {\n    type: 'checkbox',\n    checked: checked,\n    onChange: setChecked,\n    disabled: disabled,\n    id: props.id\n  }), renderIcon(), props.children && React.createElement(\"div\", {\n    className: `${classPrefix}-content`\n  }, props.children)));\n});","map":{"version":3,"names":["React","forwardRef","useContext","useImperativeHandle","withNativeProps","classNames","CheckboxGroupContext","usePropsValue","mergeProps","devWarning","CheckIcon","IndeterminateIcon","isDev","NativeInput","classPrefix","defaultProps","defaultChecked","indeterminate","Checkbox","p","ref","groupContext","props","checked","setChecked","value","defaultValue","onChange","disabled","undefined","includes","_a","check","uncheck","call","toggle","renderIcon","icon","createElement","className","block","type","id","children"],"sources":["/Users/tonystark/code/VSCodeProject/react/未命名文件夹/gk-h5/node_modules/antd-mobile/es/components/checkbox/checkbox.js"],"sourcesContent":["import React, { forwardRef, useContext, useImperativeHandle } from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport classNames from 'classnames';\nimport { CheckboxGroupContext } from './group-context';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { devWarning } from '../../utils/dev-log';\nimport { CheckIcon } from './check-icon';\nimport { IndeterminateIcon } from './indeterminate-icon';\nimport { isDev } from '../../utils/is-dev';\nimport { NativeInput } from './native-input';\nconst classPrefix = `adm-checkbox`;\nconst defaultProps = {\n  defaultChecked: false,\n  indeterminate: false\n};\nexport const Checkbox = forwardRef((p, ref) => {\n  const groupContext = useContext(CheckboxGroupContext);\n  const props = mergeProps(defaultProps, p);\n  let [checked, setChecked] = usePropsValue({\n    value: props.checked,\n    defaultValue: props.defaultChecked,\n    onChange: props.onChange\n  });\n  let disabled = props.disabled;\n  const {\n    value\n  } = props;\n\n  if (groupContext && value !== undefined) {\n    if (isDev) {\n      if (p.checked !== undefined) {\n        devWarning('Checkbox', 'When used within `Checkbox.Group`, the `checked` prop of `Checkbox` will not work.');\n      }\n\n      if (p.defaultChecked !== undefined) {\n        devWarning('Checkbox', 'When used within `Checkbox.Group`, the `defaultChecked` prop of `Checkbox` will not work.');\n      }\n    }\n\n    checked = groupContext.value.includes(value);\n\n    setChecked = checked => {\n      var _a;\n\n      if (checked) {\n        groupContext.check(value);\n      } else {\n        groupContext.uncheck(value);\n      }\n\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, checked);\n    };\n\n    disabled = disabled || groupContext.disabled;\n  }\n\n  useImperativeHandle(ref, () => ({\n    check: () => {\n      setChecked(true);\n    },\n    uncheck: () => {\n      setChecked(false);\n    },\n    toggle: () => {\n      setChecked(!checked);\n    }\n  }));\n\n  const renderIcon = () => {\n    if (props.icon) {\n      return React.createElement(\"div\", {\n        className: `${classPrefix}-custom-icon`\n      }, props.icon(checked, props.indeterminate));\n    }\n\n    return React.createElement(\"div\", {\n      className: `${classPrefix}-icon`\n    }, props.indeterminate ? React.createElement(IndeterminateIcon, null) : checked && React.createElement(CheckIcon, null));\n  };\n\n  return withNativeProps(props, React.createElement(\"label\", {\n    className: classNames(classPrefix, {\n      [`${classPrefix}-checked`]: checked && !props.indeterminate,\n      [`${classPrefix}-indeterminate`]: props.indeterminate,\n      [`${classPrefix}-disabled`]: disabled,\n      [`${classPrefix}-block`]: props.block\n    })\n  }, React.createElement(NativeInput, {\n    type: 'checkbox',\n    checked: checked,\n    onChange: setChecked,\n    disabled: disabled,\n    id: props.id\n  }), renderIcon(), props.children && React.createElement(\"div\", {\n    className: `${classPrefix}-content`\n  }, props.children)));\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}