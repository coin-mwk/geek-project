{"ast":null,"code":"import React from 'react';\nimport { InternalToast } from './toast';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { renderImperatively } from '../../utils/render-imperatively';\nlet currentHandler = null;\nlet currentTimeout = null;\nconst defaultProps = {\n  duration: 2000,\n  position: 'center',\n  maskClickable: true\n};\n\nconst ToastInner = props => React.createElement(InternalToast, Object.assign({}, props));\n\nexport function show(p) {\n  const props = mergeProps(defaultProps, typeof p === 'string' ? {\n    content: p\n  } : p);\n  const element = React.createElement(ToastInner, Object.assign({}, props, {\n    onClose: () => {\n      currentHandler = null;\n    }\n  }));\n\n  if (currentHandler) {\n    currentHandler.replace(element);\n  } else {\n    currentHandler = renderImperatively(element);\n  }\n\n  if (currentTimeout) {\n    window.clearTimeout(currentTimeout);\n  }\n\n  if (props.duration !== 0) {\n    currentTimeout = window.setTimeout(() => {\n      clear();\n    }, props.duration);\n  }\n\n  return currentHandler;\n}\nexport function clear() {\n  currentHandler === null || currentHandler === void 0 ? void 0 : currentHandler.close();\n  currentHandler = null;\n}\nexport function config(val) {\n  if (val.duration !== undefined) {\n    defaultProps.duration = val.duration;\n  }\n\n  if (val.position !== undefined) {\n    defaultProps.position = val.position;\n  }\n\n  if (val.maskClickable !== undefined) {\n    defaultProps.maskClickable = val.maskClickable;\n  }\n}","map":{"version":3,"names":["React","InternalToast","mergeProps","renderImperatively","currentHandler","currentTimeout","defaultProps","duration","position","maskClickable","ToastInner","props","createElement","Object","assign","show","p","content","element","onClose","replace","window","clearTimeout","setTimeout","clear","close","config","val","undefined"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/antd-mobile/es/components/toast/methods.js"],"sourcesContent":["import React from 'react';\nimport { InternalToast } from './toast';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { renderImperatively } from '../../utils/render-imperatively';\nlet currentHandler = null;\nlet currentTimeout = null;\nconst defaultProps = {\n  duration: 2000,\n  position: 'center',\n  maskClickable: true\n};\n\nconst ToastInner = props => React.createElement(InternalToast, Object.assign({}, props));\n\nexport function show(p) {\n  const props = mergeProps(defaultProps, typeof p === 'string' ? {\n    content: p\n  } : p);\n  const element = React.createElement(ToastInner, Object.assign({}, props, {\n    onClose: () => {\n      currentHandler = null;\n    }\n  }));\n\n  if (currentHandler) {\n    currentHandler.replace(element);\n  } else {\n    currentHandler = renderImperatively(element);\n  }\n\n  if (currentTimeout) {\n    window.clearTimeout(currentTimeout);\n  }\n\n  if (props.duration !== 0) {\n    currentTimeout = window.setTimeout(() => {\n      clear();\n    }, props.duration);\n  }\n\n  return currentHandler;\n}\nexport function clear() {\n  currentHandler === null || currentHandler === void 0 ? void 0 : currentHandler.close();\n  currentHandler = null;\n}\nexport function config(val) {\n  if (val.duration !== undefined) {\n    defaultProps.duration = val.duration;\n  }\n\n  if (val.position !== undefined) {\n    defaultProps.position = val.position;\n  }\n\n  if (val.maskClickable !== undefined) {\n    defaultProps.maskClickable = val.maskClickable;\n  }\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,SAA9B;AACA,SAASC,UAAT,QAA2B,gCAA3B;AACA,SAASC,kBAAT,QAAmC,iCAAnC;AACA,IAAIC,cAAc,GAAG,IAArB;AACA,IAAIC,cAAc,GAAG,IAArB;AACA,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE,IADS;EAEnBC,QAAQ,EAAE,QAFS;EAGnBC,aAAa,EAAE;AAHI,CAArB;;AAMA,MAAMC,UAAU,GAAGC,KAAK,IAAIX,KAAK,CAACY,aAAN,CAAoBX,aAApB,EAAmCY,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,KAAlB,CAAnC,CAA5B;;AAEA,OAAO,SAASI,IAAT,CAAcC,CAAd,EAAiB;EACtB,MAAML,KAAK,GAAGT,UAAU,CAACI,YAAD,EAAe,OAAOU,CAAP,KAAa,QAAb,GAAwB;IAC7DC,OAAO,EAAED;EADoD,CAAxB,GAEnCA,CAFoB,CAAxB;EAGA,MAAME,OAAO,GAAGlB,KAAK,CAACY,aAAN,CAAoBF,UAApB,EAAgCG,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,KAAlB,EAAyB;IACvEQ,OAAO,EAAE,MAAM;MACbf,cAAc,GAAG,IAAjB;IACD;EAHsE,CAAzB,CAAhC,CAAhB;;EAMA,IAAIA,cAAJ,EAAoB;IAClBA,cAAc,CAACgB,OAAf,CAAuBF,OAAvB;EACD,CAFD,MAEO;IACLd,cAAc,GAAGD,kBAAkB,CAACe,OAAD,CAAnC;EACD;;EAED,IAAIb,cAAJ,EAAoB;IAClBgB,MAAM,CAACC,YAAP,CAAoBjB,cAApB;EACD;;EAED,IAAIM,KAAK,CAACJ,QAAN,KAAmB,CAAvB,EAA0B;IACxBF,cAAc,GAAGgB,MAAM,CAACE,UAAP,CAAkB,MAAM;MACvCC,KAAK;IACN,CAFgB,EAEdb,KAAK,CAACJ,QAFQ,CAAjB;EAGD;;EAED,OAAOH,cAAP;AACD;AACD,OAAO,SAASoB,KAAT,GAAiB;EACtBpB,cAAc,KAAK,IAAnB,IAA2BA,cAAc,KAAK,KAAK,CAAnD,GAAuD,KAAK,CAA5D,GAAgEA,cAAc,CAACqB,KAAf,EAAhE;EACArB,cAAc,GAAG,IAAjB;AACD;AACD,OAAO,SAASsB,MAAT,CAAgBC,GAAhB,EAAqB;EAC1B,IAAIA,GAAG,CAACpB,QAAJ,KAAiBqB,SAArB,EAAgC;IAC9BtB,YAAY,CAACC,QAAb,GAAwBoB,GAAG,CAACpB,QAA5B;EACD;;EAED,IAAIoB,GAAG,CAACnB,QAAJ,KAAiBoB,SAArB,EAAgC;IAC9BtB,YAAY,CAACE,QAAb,GAAwBmB,GAAG,CAACnB,QAA5B;EACD;;EAED,IAAImB,GAAG,CAAClB,aAAJ,KAAsBmB,SAA1B,EAAqC;IACnCtB,YAAY,CAACG,aAAb,GAA6BkB,GAAG,CAAClB,aAAjC;EACD;AACF"},"metadata":{},"sourceType":"module"}