{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/* eslint no-unused-vars: 0, react/no-multi-comp: 0\nreact/prop-types: 0, react/sort-comp: 0, no-unused-expressions: 0 */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport ListViewDataSource from './ListViewDataSource';\nimport ScrollView from './ScrollView';\nvar DEFAULT_PAGE_SIZE = 1;\nvar DEFAULT_INITIAL_ROWS = 10;\nvar DEFAULT_SCROLL_RENDER_AHEAD = 1000;\nvar DEFAULT_END_REACHED_THRESHOLD = 1000;\nvar DEFAULT_SCROLL_CALLBACK_THROTTLE = 50; // const SCROLLVIEW_REF = 'ListViewRef';\n\nvar StaticRenderer = function (_React$Component) {\n  _inherits(StaticRenderer, _React$Component);\n\n  function StaticRenderer() {\n    _classCallCheck(this, StaticRenderer);\n\n    return _possibleConstructorReturn(this, (StaticRenderer.__proto__ || Object.getPrototypeOf(StaticRenderer)).apply(this, arguments));\n  }\n\n  _createClass(StaticRenderer, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return nextProps.shouldUpdate;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.render();\n    }\n  }]);\n\n  return StaticRenderer;\n}(React.Component); // https://github.com/facebook/react-native/blob/0.26-stable/Libraries/CustomComponents/ListView/ListView.js\n\n\nvar ListView = function (_React$Component2) {\n  _inherits(ListView, _React$Component2);\n\n  function ListView() {\n    var _ref;\n\n    var _temp, _this2, _ret;\n\n    _classCallCheck(this, ListView);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = ListView.__proto__ || Object.getPrototypeOf(ListView)).call.apply(_ref, [this].concat(args))), _this2), _initialiseProps.call(_this2), _temp), _possibleConstructorReturn(_this2, _ret);\n  }\n  /**\n   * Exports some data, e.g. for perf investigations or analytics.\n   */\n\n\n  _createClass(ListView, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      // this data should never trigger a render pass, so don't put in state\n      this.scrollProperties = {\n        visibleLength: null,\n        contentLength: null,\n        offset: 0\n      };\n      this._childFrames = [];\n      this._visibleRows = {};\n      this._prevRenderedRowsCount = 0;\n      this._sentEndForContentLength = null;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      if (this.props.dataSource !== nextProps.dataSource || this.props.initialListSize !== nextProps.initialListSize) {\n        this.setState(function (state, props) {\n          _this3._prevRenderedRowsCount = 0;\n          return {\n            curRenderedRowsCount: Math.min(Math.max(state.curRenderedRowsCount, nextProps.initialListSize // for preact\n            ), nextProps.dataSource.getRowCount() // for preact\n            )\n          };\n        }, function () {\n          return _this3._renderMoreRowsIfNeeded();\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var dataSource = this.props.dataSource;\n      var allRowIDs = dataSource.rowIdentities;\n      var bodyComponents = [];\n      var rowCount = 0;\n\n      for (var sectionIdx = 0; sectionIdx < allRowIDs.length; sectionIdx++) {\n        var sectionID = dataSource.sectionIdentities[sectionIdx];\n        var rowIDs = allRowIDs[sectionIdx];\n\n        if (rowIDs.length === 0) {\n          continue;\n        }\n\n        var renderSectionHeader = void 0;\n\n        if (this.props.renderSectionHeader) {\n          var shouldUpdateHeader = rowCount >= this._prevRenderedRowsCount && dataSource.sectionHeaderShouldUpdate(sectionIdx);\n          renderSectionHeader = React.createElement(StaticRenderer, {\n            key: 's_' + sectionID,\n            shouldUpdate: !!shouldUpdateHeader,\n            render: this.props.renderSectionHeader.bind(null, dataSource.getSectionHeaderData(sectionIdx), sectionID)\n          });\n        }\n\n        var sectionBody = [];\n\n        for (var rowIdx = 0; rowIdx < rowIDs.length; rowIdx++) {\n          var rowID = rowIDs[rowIdx];\n          var comboID = sectionID + '_' + rowID;\n          var shouldUpdateRow = rowCount >= this._prevRenderedRowsCount && dataSource.rowShouldUpdate(sectionIdx, rowIdx);\n          var row = React.createElement(StaticRenderer, {\n            key: 'r_' + comboID,\n            shouldUpdate: !!shouldUpdateRow,\n            render: this.props.renderRow.bind(null, dataSource.getRowData(sectionIdx, rowIdx), sectionID, rowID, this.onRowHighlighted)\n          });\n          sectionBody.push(row);\n\n          if (this.props.renderSeparator && (rowIdx !== rowIDs.length - 1 || sectionIdx === allRowIDs.length - 1)) {\n            var adjacentRowHighlighted = this.state.highlightedRow.sectionID === sectionID && (this.state.highlightedRow.rowID === rowID || this.state.highlightedRow.rowID === rowIDs[rowIdx + 1]);\n            var separator = this.props.renderSeparator(sectionID, rowID, adjacentRowHighlighted);\n\n            if (separator) {\n              sectionBody.push(separator);\n            }\n          }\n\n          if (++rowCount === this.state.curRenderedRowsCount) {\n            break;\n          }\n        }\n\n        var rowsAndSeparators = React.cloneElement(this.props.renderSectionBodyWrapper(sectionID), {\n          className: this.props.sectionBodyClassName\n        }, sectionBody);\n\n        if (this.props.renderSectionWrapper) {\n          bodyComponents.push(React.cloneElement(this.props.renderSectionWrapper(sectionID), {}, renderSectionHeader, rowsAndSeparators));\n        } else {\n          bodyComponents.push(renderSectionHeader);\n          bodyComponents.push(rowsAndSeparators);\n        }\n\n        if (rowCount >= this.state.curRenderedRowsCount) {\n          break;\n        }\n      }\n\n      var _props = this.props,\n          renderScrollComponent = _props.renderScrollComponent,\n          props = _objectWithoutProperties(_props, ['renderScrollComponent']);\n\n      return React.cloneElement(renderScrollComponent(_extends({}, props, {\n        onScroll: this._onScroll\n      })), {\n        ref: function ref(el) {\n          return _this4.ListViewRef = el;\n        },\n        onContentSizeChange: this._onContentSizeChange,\n        onLayout: this._onLayout\n      }, this.props.renderHeader ? this.props.renderHeader() : null, React.cloneElement(props.renderBodyComponent(), {}, bodyComponents), this.props.renderFooter ? this.props.renderFooter() : null, props.children);\n    }\n  }]);\n\n  return ListView;\n}(React.Component);\n\nListView.DataSource = ListViewDataSource;\nListView.propTypes = _extends({}, ScrollView.propTypes, {\n  dataSource: PropTypes.instanceOf(ListViewDataSource).isRequired,\n  renderSeparator: PropTypes.func,\n  renderRow: PropTypes.func.isRequired,\n  initialListSize: PropTypes.number,\n  onEndReached: PropTypes.func,\n  onEndReachedThreshold: PropTypes.number,\n  pageSize: PropTypes.number,\n  renderFooter: PropTypes.func,\n  renderHeader: PropTypes.func,\n  renderSectionHeader: PropTypes.func,\n  renderScrollComponent: PropTypes.func,\n  scrollRenderAheadDistance: PropTypes.number,\n  onChangeVisibleRows: PropTypes.func,\n  scrollEventThrottle: PropTypes.number,\n  // another added\n  renderBodyComponent: PropTypes.func,\n  renderSectionWrapper: PropTypes.func,\n  renderSectionBodyWrapper: PropTypes.func,\n  sectionBodyClassName: PropTypes.string,\n  listViewPrefixCls: PropTypes.string,\n  useBodyScroll: PropTypes.bool\n});\nListView.defaultProps = {\n  initialListSize: DEFAULT_INITIAL_ROWS,\n  pageSize: DEFAULT_PAGE_SIZE,\n  renderScrollComponent: function renderScrollComponent(props) {\n    return React.createElement(ScrollView, props);\n  },\n  renderBodyComponent: function renderBodyComponent() {\n    return React.createElement('div', null);\n  },\n  renderSectionBodyWrapper: function renderSectionBodyWrapper(sectionID) {\n    return React.createElement('div', {\n      key: sectionID\n    });\n  },\n  sectionBodyClassName: 'list-view-section-body',\n  listViewPrefixCls: 'rmc-list-view',\n  scrollRenderAheadDistance: DEFAULT_SCROLL_RENDER_AHEAD,\n  onEndReachedThreshold: DEFAULT_END_REACHED_THRESHOLD,\n  scrollEventThrottle: DEFAULT_SCROLL_CALLBACK_THROTTLE,\n  scrollerOptions: {}\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.state = {\n    curRenderedRowsCount: this.props.initialListSize,\n    highlightedRow: {}\n  };\n\n  this.getMetrics = function () {\n    return {\n      contentLength: _this5.scrollProperties.contentLength,\n      totalRows: _this5.props.dataSource.getRowCount(),\n      renderedRows: _this5.state.curRenderedRowsCount,\n      visibleRows: Object.keys(_this5._visibleRows).length\n    };\n  };\n\n  this.getInnerViewNode = function () {\n    return _this5.ListViewRef.getInnerViewNode();\n  };\n\n  this.scrollTo = function () {\n    var _ListViewRef;\n\n    _this5.ListViewRef && _this5.ListViewRef.scrollTo && (_ListViewRef = _this5.ListViewRef).scrollTo.apply(_ListViewRef, arguments);\n  };\n\n  this.onRowHighlighted = function (sectionID, rowID) {\n    _this5.setState({\n      highlightedRow: {\n        sectionID: sectionID,\n        rowID: rowID\n      }\n    });\n  };\n\n  this._onContentSizeChange = function (width, height) {\n    var contentLength = !_this5.props.horizontal ? height : width;\n\n    if (contentLength !== _this5.scrollProperties.contentLength) {\n      _this5.scrollProperties.contentLength = contentLength;\n\n      _this5._renderMoreRowsIfNeeded();\n    }\n\n    _this5.props.onContentSizeChange && _this5.props.onContentSizeChange(width, height);\n  };\n\n  this._onLayout = function (event) {\n    var _event$nativeEvent$la = event.nativeEvent.layout,\n        width = _event$nativeEvent$la.width,\n        height = _event$nativeEvent$la.height;\n    var visibleLength = !_this5.props.horizontal ? height : width;\n\n    if (visibleLength !== _this5.scrollProperties.visibleLength) {\n      _this5.scrollProperties.visibleLength = visibleLength;\n\n      _this5._renderMoreRowsIfNeeded();\n    }\n\n    _this5.props.onLayout && _this5.props.onLayout(event);\n  };\n\n  this._maybeCallOnEndReached = function (event) {\n    // console.log(this.scrollProperties, this._getDistanceFromEnd(this.scrollProperties));\n    if (_this5.props.onEndReached && _this5.scrollProperties.contentLength !== _this5._sentEndForContentLength && _this5._getDistanceFromEnd(_this5.scrollProperties) < _this5.props.onEndReachedThreshold && _this5.state.curRenderedRowsCount === _this5.props.dataSource.getRowCount()) {\n      _this5._sentEndForContentLength = _this5.scrollProperties.contentLength;\n\n      _this5.props.onEndReached(event);\n\n      return true;\n    }\n\n    return false;\n  };\n\n  this._renderMoreRowsIfNeeded = function () {\n    if (_this5.scrollProperties.contentLength === null || _this5.scrollProperties.visibleLength === null || _this5.state.curRenderedRowsCount === _this5.props.dataSource.getRowCount()) {\n      _this5._maybeCallOnEndReached();\n\n      return;\n    }\n\n    var distanceFromEnd = _this5._getDistanceFromEnd(_this5.scrollProperties); // console.log(distanceFromEnd, this.props.scrollRenderAheadDistance);\n\n\n    if (distanceFromEnd < _this5.props.scrollRenderAheadDistance) {\n      _this5._pageInNewRows();\n    }\n  };\n\n  this._pageInNewRows = function () {\n    _this5.setState(function (state, props) {\n      var rowsToRender = Math.min(state.curRenderedRowsCount + props.pageSize, props.dataSource.getRowCount());\n      _this5._prevRenderedRowsCount = state.curRenderedRowsCount;\n      return {\n        curRenderedRowsCount: rowsToRender\n      };\n    }, function () {\n      _this5._prevRenderedRowsCount = _this5.state.curRenderedRowsCount;\n    });\n  };\n\n  this._getDistanceFromEnd = function (scrollProperties) {\n    return scrollProperties.contentLength - scrollProperties.visibleLength - scrollProperties.offset;\n  };\n\n  this._onScroll = function (e, metrics) {\n    // when the ListView is destroyed,\n    // but also will trigger scroll event after `scrollEventThrottle`\n    if (!_this5.ListViewRef) {\n      return;\n    }\n\n    _this5.scrollProperties = metrics;\n\n    if (!_this5._maybeCallOnEndReached(e)) {\n      _this5._renderMoreRowsIfNeeded();\n    }\n\n    if (_this5.props.onEndReached && _this5._getDistanceFromEnd(_this5.scrollProperties) > _this5.props.onEndReachedThreshold) {\n      // Scrolled out of the end zone, so it should be able to trigger again.\n      _this5._sentEndForContentLength = null;\n    }\n\n    _this5.props.onScroll && _this5.props.onScroll(e);\n  };\n};\n\nexport default ListView;","map":{"version":3,"names":["_extends","_objectWithoutProperties","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","ReactDOM","ListViewDataSource","ScrollView","DEFAULT_PAGE_SIZE","DEFAULT_INITIAL_ROWS","DEFAULT_SCROLL_RENDER_AHEAD","DEFAULT_END_REACHED_THRESHOLD","DEFAULT_SCROLL_CALLBACK_THROTTLE","StaticRenderer","_React$Component","__proto__","Object","getPrototypeOf","apply","arguments","key","value","shouldComponentUpdate","nextProps","shouldUpdate","render","props","Component","ListView","_React$Component2","_ref","_temp","_this2","_ret","_len","length","args","Array","_key","call","concat","_initialiseProps","componentWillMount","scrollProperties","visibleLength","contentLength","offset","_childFrames","_visibleRows","_prevRenderedRowsCount","_sentEndForContentLength","componentWillReceiveProps","_this3","dataSource","initialListSize","setState","state","curRenderedRowsCount","Math","min","max","getRowCount","_renderMoreRowsIfNeeded","_this4","allRowIDs","rowIdentities","bodyComponents","rowCount","sectionIdx","sectionID","sectionIdentities","rowIDs","renderSectionHeader","shouldUpdateHeader","sectionHeaderShouldUpdate","createElement","bind","getSectionHeaderData","sectionBody","rowIdx","rowID","comboID","shouldUpdateRow","rowShouldUpdate","row","renderRow","getRowData","onRowHighlighted","push","renderSeparator","adjacentRowHighlighted","highlightedRow","separator","rowsAndSeparators","cloneElement","renderSectionBodyWrapper","className","sectionBodyClassName","renderSectionWrapper","_props","renderScrollComponent","onScroll","_onScroll","ref","el","ListViewRef","onContentSizeChange","_onContentSizeChange","onLayout","_onLayout","renderHeader","renderBodyComponent","renderFooter","children","DataSource","propTypes","instanceOf","isRequired","func","number","onEndReached","onEndReachedThreshold","pageSize","scrollRenderAheadDistance","onChangeVisibleRows","scrollEventThrottle","string","listViewPrefixCls","useBodyScroll","bool","defaultProps","scrollerOptions","_this5","getMetrics","totalRows","renderedRows","visibleRows","keys","getInnerViewNode","scrollTo","_ListViewRef","width","height","horizontal","event","_event$nativeEvent$la","nativeEvent","layout","_maybeCallOnEndReached","_getDistanceFromEnd","distanceFromEnd","_pageInNewRows","rowsToRender","e","metrics"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/rmc-list-view/es/ListView.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/* eslint no-unused-vars: 0, react/no-multi-comp: 0\nreact/prop-types: 0, react/sort-comp: 0, no-unused-expressions: 0 */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport ListViewDataSource from './ListViewDataSource';\nimport ScrollView from './ScrollView';\n\nvar DEFAULT_PAGE_SIZE = 1;\nvar DEFAULT_INITIAL_ROWS = 10;\nvar DEFAULT_SCROLL_RENDER_AHEAD = 1000;\nvar DEFAULT_END_REACHED_THRESHOLD = 1000;\nvar DEFAULT_SCROLL_CALLBACK_THROTTLE = 50;\n// const SCROLLVIEW_REF = 'ListViewRef';\n\nvar StaticRenderer = function (_React$Component) {\n  _inherits(StaticRenderer, _React$Component);\n\n  function StaticRenderer() {\n    _classCallCheck(this, StaticRenderer);\n\n    return _possibleConstructorReturn(this, (StaticRenderer.__proto__ || Object.getPrototypeOf(StaticRenderer)).apply(this, arguments));\n  }\n\n  _createClass(StaticRenderer, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return nextProps.shouldUpdate;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.render();\n    }\n  }]);\n\n  return StaticRenderer;\n}(React.Component);\n// https://github.com/facebook/react-native/blob/0.26-stable/Libraries/CustomComponents/ListView/ListView.js\n\n\nvar ListView = function (_React$Component2) {\n  _inherits(ListView, _React$Component2);\n\n  function ListView() {\n    var _ref;\n\n    var _temp, _this2, _ret;\n\n    _classCallCheck(this, ListView);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = ListView.__proto__ || Object.getPrototypeOf(ListView)).call.apply(_ref, [this].concat(args))), _this2), _initialiseProps.call(_this2), _temp), _possibleConstructorReturn(_this2, _ret);\n  }\n\n  /**\n   * Exports some data, e.g. for perf investigations or analytics.\n   */\n\n\n  _createClass(ListView, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      // this data should never trigger a render pass, so don't put in state\n      this.scrollProperties = {\n        visibleLength: null,\n        contentLength: null,\n        offset: 0\n      };\n      this._childFrames = [];\n      this._visibleRows = {};\n      this._prevRenderedRowsCount = 0;\n      this._sentEndForContentLength = null;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      if (this.props.dataSource !== nextProps.dataSource || this.props.initialListSize !== nextProps.initialListSize) {\n        this.setState(function (state, props) {\n          _this3._prevRenderedRowsCount = 0;\n          return {\n            curRenderedRowsCount: Math.min(Math.max(state.curRenderedRowsCount, nextProps.initialListSize // for preact\n            ), nextProps.dataSource.getRowCount() // for preact\n            )\n          };\n        }, function () {\n          return _this3._renderMoreRowsIfNeeded();\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var dataSource = this.props.dataSource;\n      var allRowIDs = dataSource.rowIdentities;\n      var bodyComponents = [];\n      var rowCount = 0;\n\n      for (var sectionIdx = 0; sectionIdx < allRowIDs.length; sectionIdx++) {\n        var sectionID = dataSource.sectionIdentities[sectionIdx];\n        var rowIDs = allRowIDs[sectionIdx];\n        if (rowIDs.length === 0) {\n          continue;\n        }\n\n        var renderSectionHeader = void 0;\n        if (this.props.renderSectionHeader) {\n          var shouldUpdateHeader = rowCount >= this._prevRenderedRowsCount && dataSource.sectionHeaderShouldUpdate(sectionIdx);\n\n          renderSectionHeader = React.createElement(StaticRenderer, {\n            key: 's_' + sectionID,\n            shouldUpdate: !!shouldUpdateHeader,\n            render: this.props.renderSectionHeader.bind(null, dataSource.getSectionHeaderData(sectionIdx), sectionID)\n          });\n        }\n\n        var sectionBody = [];\n        for (var rowIdx = 0; rowIdx < rowIDs.length; rowIdx++) {\n          var rowID = rowIDs[rowIdx];\n          var comboID = sectionID + '_' + rowID;\n          var shouldUpdateRow = rowCount >= this._prevRenderedRowsCount && dataSource.rowShouldUpdate(sectionIdx, rowIdx);\n          var row = React.createElement(StaticRenderer, {\n            key: 'r_' + comboID,\n            shouldUpdate: !!shouldUpdateRow,\n            render: this.props.renderRow.bind(null, dataSource.getRowData(sectionIdx, rowIdx), sectionID, rowID, this.onRowHighlighted)\n          });\n          sectionBody.push(row);\n\n          if (this.props.renderSeparator && (rowIdx !== rowIDs.length - 1 || sectionIdx === allRowIDs.length - 1)) {\n            var adjacentRowHighlighted = this.state.highlightedRow.sectionID === sectionID && (this.state.highlightedRow.rowID === rowID || this.state.highlightedRow.rowID === rowIDs[rowIdx + 1]);\n            var separator = this.props.renderSeparator(sectionID, rowID, adjacentRowHighlighted);\n            if (separator) {\n              sectionBody.push(separator);\n            }\n          }\n          if (++rowCount === this.state.curRenderedRowsCount) {\n            break;\n          }\n        }\n\n        var rowsAndSeparators = React.cloneElement(this.props.renderSectionBodyWrapper(sectionID), {\n          className: this.props.sectionBodyClassName\n        }, sectionBody);\n\n        if (this.props.renderSectionWrapper) {\n          bodyComponents.push(React.cloneElement(this.props.renderSectionWrapper(sectionID), {}, renderSectionHeader, rowsAndSeparators));\n        } else {\n          bodyComponents.push(renderSectionHeader);\n          bodyComponents.push(rowsAndSeparators);\n        }\n        if (rowCount >= this.state.curRenderedRowsCount) {\n          break;\n        }\n      }\n\n      var _props = this.props,\n          renderScrollComponent = _props.renderScrollComponent,\n          props = _objectWithoutProperties(_props, ['renderScrollComponent']);\n\n      return React.cloneElement(renderScrollComponent(_extends({}, props, { onScroll: this._onScroll })), {\n        ref: function ref(el) {\n          return _this4.ListViewRef = el;\n        },\n        onContentSizeChange: this._onContentSizeChange,\n        onLayout: this._onLayout\n      }, this.props.renderHeader ? this.props.renderHeader() : null, React.cloneElement(props.renderBodyComponent(), {}, bodyComponents), this.props.renderFooter ? this.props.renderFooter() : null, props.children);\n    }\n  }]);\n\n  return ListView;\n}(React.Component);\n\nListView.DataSource = ListViewDataSource;\nListView.propTypes = _extends({}, ScrollView.propTypes, {\n  dataSource: PropTypes.instanceOf(ListViewDataSource).isRequired,\n  renderSeparator: PropTypes.func,\n  renderRow: PropTypes.func.isRequired,\n  initialListSize: PropTypes.number,\n  onEndReached: PropTypes.func,\n  onEndReachedThreshold: PropTypes.number,\n  pageSize: PropTypes.number,\n  renderFooter: PropTypes.func,\n  renderHeader: PropTypes.func,\n  renderSectionHeader: PropTypes.func,\n  renderScrollComponent: PropTypes.func,\n  scrollRenderAheadDistance: PropTypes.number,\n  onChangeVisibleRows: PropTypes.func,\n  scrollEventThrottle: PropTypes.number,\n  // another added\n  renderBodyComponent: PropTypes.func,\n  renderSectionWrapper: PropTypes.func,\n  renderSectionBodyWrapper: PropTypes.func,\n  sectionBodyClassName: PropTypes.string,\n  listViewPrefixCls: PropTypes.string,\n  useBodyScroll: PropTypes.bool\n});\nListView.defaultProps = {\n  initialListSize: DEFAULT_INITIAL_ROWS,\n  pageSize: DEFAULT_PAGE_SIZE,\n  renderScrollComponent: function renderScrollComponent(props) {\n    return React.createElement(ScrollView, props);\n  },\n  renderBodyComponent: function renderBodyComponent() {\n    return React.createElement('div', null);\n  },\n  renderSectionBodyWrapper: function renderSectionBodyWrapper(sectionID) {\n    return React.createElement('div', { key: sectionID });\n  },\n  sectionBodyClassName: 'list-view-section-body',\n  listViewPrefixCls: 'rmc-list-view',\n  scrollRenderAheadDistance: DEFAULT_SCROLL_RENDER_AHEAD,\n  onEndReachedThreshold: DEFAULT_END_REACHED_THRESHOLD,\n  scrollEventThrottle: DEFAULT_SCROLL_CALLBACK_THROTTLE,\n  scrollerOptions: {}\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.state = {\n    curRenderedRowsCount: this.props.initialListSize,\n    highlightedRow: {} };\n\n  this.getMetrics = function () {\n    return {\n      contentLength: _this5.scrollProperties.contentLength,\n      totalRows: _this5.props.dataSource.getRowCount(),\n      renderedRows: _this5.state.curRenderedRowsCount,\n      visibleRows: Object.keys(_this5._visibleRows).length\n    };\n  };\n\n  this.getInnerViewNode = function () {\n    return _this5.ListViewRef.getInnerViewNode();\n  };\n\n  this.scrollTo = function () {\n    var _ListViewRef;\n\n    _this5.ListViewRef && _this5.ListViewRef.scrollTo && (_ListViewRef = _this5.ListViewRef).scrollTo.apply(_ListViewRef, arguments);\n  };\n\n  this.onRowHighlighted = function (sectionID, rowID) {\n    _this5.setState({ highlightedRow: { sectionID: sectionID, rowID: rowID } });\n  };\n\n  this._onContentSizeChange = function (width, height) {\n    var contentLength = !_this5.props.horizontal ? height : width;\n    if (contentLength !== _this5.scrollProperties.contentLength) {\n      _this5.scrollProperties.contentLength = contentLength;\n      _this5._renderMoreRowsIfNeeded();\n    }\n    _this5.props.onContentSizeChange && _this5.props.onContentSizeChange(width, height);\n  };\n\n  this._onLayout = function (event) {\n    var _event$nativeEvent$la = event.nativeEvent.layout,\n        width = _event$nativeEvent$la.width,\n        height = _event$nativeEvent$la.height;\n\n    var visibleLength = !_this5.props.horizontal ? height : width;\n    if (visibleLength !== _this5.scrollProperties.visibleLength) {\n      _this5.scrollProperties.visibleLength = visibleLength;\n      _this5._renderMoreRowsIfNeeded();\n    }\n    _this5.props.onLayout && _this5.props.onLayout(event);\n  };\n\n  this._maybeCallOnEndReached = function (event) {\n    // console.log(this.scrollProperties, this._getDistanceFromEnd(this.scrollProperties));\n    if (_this5.props.onEndReached && _this5.scrollProperties.contentLength !== _this5._sentEndForContentLength && _this5._getDistanceFromEnd(_this5.scrollProperties) < _this5.props.onEndReachedThreshold && _this5.state.curRenderedRowsCount === _this5.props.dataSource.getRowCount()) {\n      _this5._sentEndForContentLength = _this5.scrollProperties.contentLength;\n      _this5.props.onEndReached(event);\n      return true;\n    }\n    return false;\n  };\n\n  this._renderMoreRowsIfNeeded = function () {\n    if (_this5.scrollProperties.contentLength === null || _this5.scrollProperties.visibleLength === null || _this5.state.curRenderedRowsCount === _this5.props.dataSource.getRowCount()) {\n      _this5._maybeCallOnEndReached();\n      return;\n    }\n\n    var distanceFromEnd = _this5._getDistanceFromEnd(_this5.scrollProperties);\n    // console.log(distanceFromEnd, this.props.scrollRenderAheadDistance);\n    if (distanceFromEnd < _this5.props.scrollRenderAheadDistance) {\n      _this5._pageInNewRows();\n    }\n  };\n\n  this._pageInNewRows = function () {\n    _this5.setState(function (state, props) {\n      var rowsToRender = Math.min(state.curRenderedRowsCount + props.pageSize, props.dataSource.getRowCount());\n      _this5._prevRenderedRowsCount = state.curRenderedRowsCount;\n      return {\n        curRenderedRowsCount: rowsToRender\n      };\n    }, function () {\n      _this5._prevRenderedRowsCount = _this5.state.curRenderedRowsCount;\n    });\n  };\n\n  this._getDistanceFromEnd = function (scrollProperties) {\n    return scrollProperties.contentLength - scrollProperties.visibleLength - scrollProperties.offset;\n  };\n\n  this._onScroll = function (e, metrics) {\n    // when the ListView is destroyed,\n    // but also will trigger scroll event after `scrollEventThrottle`\n    if (!_this5.ListViewRef) {\n      return;\n    }\n\n    _this5.scrollProperties = metrics;\n\n    if (!_this5._maybeCallOnEndReached(e)) {\n      _this5._renderMoreRowsIfNeeded();\n    }\n\n    if (_this5.props.onEndReached && _this5._getDistanceFromEnd(_this5.scrollProperties) > _this5.props.onEndReachedThreshold) {\n      // Scrolled out of the end zone, so it should be able to trigger again.\n      _this5._sentEndForContentLength = null;\n    }\n\n    _this5.props.onScroll && _this5.props.onScroll(e);\n  };\n};\n\nexport default ListView;"],"mappings":"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"},"metadata":{},"sourceType":"module"}