{"ast":null,"code":"import classNames from 'classnames';\nimport React from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Space from '../space';\nimport Grid from '../grid';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { CheckMark } from './check-mark';\nconst classPrefix = `adm-selector`;\nconst defaultProps = {\n  multiple: false,\n  defaultValue: [],\n  showCheckMark: true\n};\nexport const Selector = p => {\n  const props = mergeProps(defaultProps, p);\n  const [value, setValue] = usePropsValue({\n    value: props.value,\n    defaultValue: props.defaultValue,\n    onChange: val => {\n      var _a;\n\n      const extend = {\n        get items() {\n          return props.options.filter(option => val.includes(option.value));\n        }\n\n      };\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);\n    }\n  });\n  const items = props.options.map(option => {\n    const active = (value || []).includes(option.value);\n    const disabled = option.disabled || props.disabled;\n    const itemCls = classNames(`${classPrefix}-item`, {\n      [`${classPrefix}-item-active`]: active && !props.multiple,\n      [`${classPrefix}-item-multiple-active`]: active && props.multiple,\n      [`${classPrefix}-item-disabled`]: disabled\n    });\n    return React.createElement(\"div\", {\n      key: option.value,\n      className: itemCls,\n      onClick: () => {\n        if (disabled) {\n          return;\n        }\n\n        if (props.multiple) {\n          const val = active ? value.filter(v => v !== option.value) : [...value, option.value];\n          setValue(val);\n        } else {\n          const val = active ? [] : [option.value];\n          setValue(val);\n        }\n      }\n    }, option.label, option.description && React.createElement(\"div\", {\n      className: `${classPrefix}-item-description`\n    }, option.description), active && props.showCheckMark && React.createElement(\"div\", {\n      className: `${classPrefix}-check-mark-wrapper`\n    }, React.createElement(CheckMark, null)));\n  });\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, !props.columns && React.createElement(Space, {\n    wrap: true\n  }, items), props.columns && React.createElement(Grid, {\n    columns: props.columns\n  }, items)));\n};","map":{"version":3,"names":["classNames","React","withNativeProps","mergeProps","Space","Grid","usePropsValue","CheckMark","classPrefix","defaultProps","multiple","defaultValue","showCheckMark","Selector","p","props","value","setValue","onChange","val","_a","extend","items","options","filter","option","includes","call","map","active","disabled","itemCls","createElement","key","className","onClick","v","label","description","columns","wrap"],"sources":["/Users/tonystark/code/VSCodeProject/react/未命名文件夹/gk-h5/node_modules/antd-mobile/es/components/selector/selector.js"],"sourcesContent":["import classNames from 'classnames';\nimport React from 'react';\nimport { withNativeProps } from '../../utils/native-props';\nimport { mergeProps } from '../../utils/with-default-props';\nimport Space from '../space';\nimport Grid from '../grid';\nimport { usePropsValue } from '../../utils/use-props-value';\nimport { CheckMark } from './check-mark';\nconst classPrefix = `adm-selector`;\nconst defaultProps = {\n  multiple: false,\n  defaultValue: [],\n  showCheckMark: true\n};\nexport const Selector = p => {\n  const props = mergeProps(defaultProps, p);\n  const [value, setValue] = usePropsValue({\n    value: props.value,\n    defaultValue: props.defaultValue,\n    onChange: val => {\n      var _a;\n\n      const extend = {\n        get items() {\n          return props.options.filter(option => val.includes(option.value));\n        }\n\n      };\n      (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, val, extend);\n    }\n  });\n  const items = props.options.map(option => {\n    const active = (value || []).includes(option.value);\n    const disabled = option.disabled || props.disabled;\n    const itemCls = classNames(`${classPrefix}-item`, {\n      [`${classPrefix}-item-active`]: active && !props.multiple,\n      [`${classPrefix}-item-multiple-active`]: active && props.multiple,\n      [`${classPrefix}-item-disabled`]: disabled\n    });\n    return React.createElement(\"div\", {\n      key: option.value,\n      className: itemCls,\n      onClick: () => {\n        if (disabled) {\n          return;\n        }\n\n        if (props.multiple) {\n          const val = active ? value.filter(v => v !== option.value) : [...value, option.value];\n          setValue(val);\n        } else {\n          const val = active ? [] : [option.value];\n          setValue(val);\n        }\n      }\n    }, option.label, option.description && React.createElement(\"div\", {\n      className: `${classPrefix}-item-description`\n    }, option.description), active && props.showCheckMark && React.createElement(\"div\", {\n      className: `${classPrefix}-check-mark-wrapper`\n    }, React.createElement(CheckMark, null)));\n  });\n  return withNativeProps(props, React.createElement(\"div\", {\n    className: classPrefix\n  }, !props.columns && React.createElement(Space, {\n    wrap: true\n  }, items), props.columns && React.createElement(Grid, {\n    columns: props.columns\n  }, items)));\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}