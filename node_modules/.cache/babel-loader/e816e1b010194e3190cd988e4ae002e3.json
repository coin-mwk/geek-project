{"ast":null,"code":"import requests from \"@/utils/request\";\nimport { removeTokenInfo } from \"@/utils/storage\";\nimport { SAVE_PROFILE, SAVE_USER } from \"../constant\";\n/**\n * 请求用户信息user\n * @returns Promise\n */\n\nexport const getUser = () => {\n  return async dispatch => {\n    const res = await requests.get('/user');\n    dispatch(saveUser(res.data));\n  };\n};\n/**\n * 获取用户个人信息profile\n * @returns Promise\n */\n\nexport const getProfile = () => {\n  return async dispatch => {\n    const res = await requests.get('/user/profile');\n    dispatch(saveProfile(res.data));\n  };\n};\n/**\n * 存放用户个人信息\n * @param {*} payload \n * @returns \n */\n\nexport const saveUser = payload => {\n  return {\n    type: SAVE_USER,\n    payload\n  };\n};\n/**\n * 存放用户个人信息\n * @param {*} payload \n * @returns \n */\n\nexport const saveProfile = payload => {\n  return {\n    type: SAVE_PROFILE,\n    payload\n  };\n};\nexport const updateProfile = data => {\n  return async dispatch => {\n    const res = await requests.patch('/user/profile', data);\n    console.log(res);\n  };\n};\n/**\n * 个人信息中退出登录\n * @returns \n */\n\nexport const logout = () => {\n  return dispatch => {\n    // 移除本地token\n    removeTokenInfo(); // 移除redux中的token\n\n    dispatch({\n      type: 'login/logout'\n    });\n  };\n};","map":{"version":3,"names":["requests","removeTokenInfo","SAVE_PROFILE","SAVE_USER","getUser","dispatch","res","get","saveUser","data","getProfile","saveProfile","payload","type","updateProfile","patch","console","log","logout"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/src/store/actions/profile.js"],"sourcesContent":["import requests from \"@/utils/request\"\nimport { removeTokenInfo } from \"@/utils/storage\";\nimport { SAVE_PROFILE, SAVE_USER } from \"../constant\";\n\n/**\n * 请求用户信息user\n * @returns Promise\n */\nexport const getUser = ()=>{\n    return async dispatch=>{\n        const res = await requests.get('/user');\n        dispatch(saveUser(res.data));\n    }\n}\n/**\n * 获取用户个人信息profile\n * @returns Promise\n */\nexport const getProfile= ()=>{\n    return async(dispatch)=>{\n        const res = await requests.get('/user/profile');\n        dispatch(saveProfile(res.data));\n    }\n}\n\n/**\n * 存放用户个人信息\n * @param {*} payload \n * @returns \n */\nexport const saveUser = (payload)=>{\n    return{\n        type:SAVE_USER,\n        payload,\n    }\n}\n/**\n * 存放用户个人信息\n * @param {*} payload \n * @returns \n */\n export const saveProfile = (payload)=>{\n    return{\n        type:SAVE_PROFILE,\n        payload,\n    }\n}\n\n\nexport const updateProfile = (data)=>{\n    return async dispatch =>{\n        const res = await requests.patch('/user/profile', data);\n        console.log(res);\n    }\n}\n\n/**\n * 个人信息中退出登录\n * @returns \n */\nexport const logout = ()=>{\n    return dispatch =>{\n        // 移除本地token\n        removeTokenInfo();\n        // 移除redux中的token\n        dispatch({\n            type:'login/logout'\n        });\n    }\n}"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,iBAArB;AACA,SAASC,eAAT,QAAgC,iBAAhC;AACA,SAASC,YAAT,EAAuBC,SAAvB,QAAwC,aAAxC;AAEA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,OAAO,GAAG,MAAI;EACvB,OAAO,MAAMC,QAAN,IAAgB;IACnB,MAAMC,GAAG,GAAG,MAAMN,QAAQ,CAACO,GAAT,CAAa,OAAb,CAAlB;IACAF,QAAQ,CAACG,QAAQ,CAACF,GAAG,CAACG,IAAL,CAAT,CAAR;EACH,CAHD;AAIH,CALM;AAMP;AACA;AACA;AACA;;AACA,OAAO,MAAMC,UAAU,GAAE,MAAI;EACzB,OAAO,MAAML,QAAN,IAAiB;IACpB,MAAMC,GAAG,GAAG,MAAMN,QAAQ,CAACO,GAAT,CAAa,eAAb,CAAlB;IACAF,QAAQ,CAACM,WAAW,CAACL,GAAG,CAACG,IAAL,CAAZ,CAAR;EACH,CAHD;AAIH,CALM;AAOP;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMD,QAAQ,GAAII,OAAD,IAAW;EAC/B,OAAM;IACFC,IAAI,EAACV,SADH;IAEFS;EAFE,CAAN;AAIH,CALM;AAMP;AACA;AACA;AACA;AACA;;AACC,OAAO,MAAMD,WAAW,GAAIC,OAAD,IAAW;EACnC,OAAM;IACFC,IAAI,EAACX,YADH;IAEFU;EAFE,CAAN;AAIH,CALO;AAQR,OAAO,MAAME,aAAa,GAAIL,IAAD,IAAQ;EACjC,OAAO,MAAMJ,QAAN,IAAiB;IACpB,MAAMC,GAAG,GAAG,MAAMN,QAAQ,CAACe,KAAT,CAAe,eAAf,EAAgCN,IAAhC,CAAlB;IACAO,OAAO,CAACC,GAAR,CAAYX,GAAZ;EACH,CAHD;AAIH,CALM;AAOP;AACA;AACA;AACA;;AACA,OAAO,MAAMY,MAAM,GAAG,MAAI;EACtB,OAAOb,QAAQ,IAAG;IACd;IACAJ,eAAe,GAFD,CAGd;;IACAI,QAAQ,CAAC;MACLQ,IAAI,EAAC;IADA,CAAD,CAAR;EAGH,CAPD;AAQH,CATM"},"metadata":{},"sourceType":"module"}