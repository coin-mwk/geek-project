{"ast":null,"code":"import { useMemo } from 'react';\nimport memoize from 'lodash/memoize';\nexport function useCascaderValueExtend(options) {\n  const generateItems = useMemo(() => {\n    return memoize(val => {\n      const ret = [];\n      let currentOptions = options;\n\n      for (const v of val) {\n        const target = currentOptions.find(option => option.value === v);\n\n        if (!target) {\n          break;\n        }\n\n        ret.push(target);\n        if (!target.children) break;\n        currentOptions = target.children;\n      }\n\n      return ret;\n    }, val => JSON.stringify(val));\n  }, [options]);\n  const generateIsLeaf = useMemo(() => {\n    return memoize(val => {\n      const children = val.reduce((currentOptions, v) => {\n        var _a;\n\n        return ((_a = currentOptions.find(option => option.value === v)) === null || _a === void 0 ? void 0 : _a.children) || [];\n      }, options);\n      return children.length === 0;\n    }, val => JSON.stringify(val));\n  }, [options]);\n\n  function generateValueExtend(val) {\n    return {\n      get items() {\n        return generateItems(val);\n      },\n\n      get isLeaf() {\n        return generateIsLeaf(val);\n      }\n\n    };\n  }\n\n  return generateValueExtend;\n}","map":{"version":3,"names":["useMemo","memoize","useCascaderValueExtend","options","generateItems","val","ret","currentOptions","v","target","find","option","value","push","children","JSON","stringify","generateIsLeaf","reduce","_a","length","generateValueExtend","items","isLeaf"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/antd-mobile/es/components/cascader-view/use-cascader-value-extend.js"],"sourcesContent":["import { useMemo } from 'react';\nimport memoize from 'lodash/memoize';\nexport function useCascaderValueExtend(options) {\n  const generateItems = useMemo(() => {\n    return memoize(val => {\n      const ret = [];\n      let currentOptions = options;\n      for (const v of val) {\n        const target = currentOptions.find(option => option.value === v);\n        if (!target) {\n          break;\n        }\n        ret.push(target);\n        if (!target.children) break;\n        currentOptions = target.children;\n      }\n      return ret;\n    }, val => JSON.stringify(val));\n  }, [options]);\n  const generateIsLeaf = useMemo(() => {\n    return memoize(val => {\n      const children = val.reduce((currentOptions, v) => {\n        var _a;\n        return ((_a = currentOptions.find(option => option.value === v)) === null || _a === void 0 ? void 0 : _a.children) || [];\n      }, options);\n      return children.length === 0;\n    }, val => JSON.stringify(val));\n  }, [options]);\n  function generateValueExtend(val) {\n    return {\n      get items() {\n        return generateItems(val);\n      },\n      get isLeaf() {\n        return generateIsLeaf(val);\n      }\n    };\n  }\n  return generateValueExtend;\n}"],"mappings":"AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAO,SAASC,sBAAT,CAAgCC,OAAhC,EAAyC;EAC9C,MAAMC,aAAa,GAAGJ,OAAO,CAAC,MAAM;IAClC,OAAOC,OAAO,CAACI,GAAG,IAAI;MACpB,MAAMC,GAAG,GAAG,EAAZ;MACA,IAAIC,cAAc,GAAGJ,OAArB;;MACA,KAAK,MAAMK,CAAX,IAAgBH,GAAhB,EAAqB;QACnB,MAAMI,MAAM,GAAGF,cAAc,CAACG,IAAf,CAAoBC,MAAM,IAAIA,MAAM,CAACC,KAAP,KAAiBJ,CAA/C,CAAf;;QACA,IAAI,CAACC,MAAL,EAAa;UACX;QACD;;QACDH,GAAG,CAACO,IAAJ,CAASJ,MAAT;QACA,IAAI,CAACA,MAAM,CAACK,QAAZ,EAAsB;QACtBP,cAAc,GAAGE,MAAM,CAACK,QAAxB;MACD;;MACD,OAAOR,GAAP;IACD,CAba,EAaXD,GAAG,IAAIU,IAAI,CAACC,SAAL,CAAeX,GAAf,CAbI,CAAd;EAcD,CAf4B,EAe1B,CAACF,OAAD,CAf0B,CAA7B;EAgBA,MAAMc,cAAc,GAAGjB,OAAO,CAAC,MAAM;IACnC,OAAOC,OAAO,CAACI,GAAG,IAAI;MACpB,MAAMS,QAAQ,GAAGT,GAAG,CAACa,MAAJ,CAAW,CAACX,cAAD,EAAiBC,CAAjB,KAAuB;QACjD,IAAIW,EAAJ;;QACA,OAAO,CAAC,CAACA,EAAE,GAAGZ,cAAc,CAACG,IAAf,CAAoBC,MAAM,IAAIA,MAAM,CAACC,KAAP,KAAiBJ,CAA/C,CAAN,MAA6D,IAA7D,IAAqEW,EAAE,KAAK,KAAK,CAAjF,GAAqF,KAAK,CAA1F,GAA8FA,EAAE,CAACL,QAAlG,KAA+G,EAAtH;MACD,CAHgB,EAGdX,OAHc,CAAjB;MAIA,OAAOW,QAAQ,CAACM,MAAT,KAAoB,CAA3B;IACD,CANa,EAMXf,GAAG,IAAIU,IAAI,CAACC,SAAL,CAAeX,GAAf,CANI,CAAd;EAOD,CAR6B,EAQ3B,CAACF,OAAD,CAR2B,CAA9B;;EASA,SAASkB,mBAAT,CAA6BhB,GAA7B,EAAkC;IAChC,OAAO;MACL,IAAIiB,KAAJ,GAAY;QACV,OAAOlB,aAAa,CAACC,GAAD,CAApB;MACD,CAHI;;MAIL,IAAIkB,MAAJ,GAAa;QACX,OAAON,cAAc,CAACZ,GAAD,CAArB;MACD;;IANI,CAAP;EAQD;;EACD,OAAOgB,mBAAP;AACD"},"metadata":{},"sourceType":"module"}