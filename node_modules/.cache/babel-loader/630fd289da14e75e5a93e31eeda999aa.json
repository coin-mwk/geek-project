{"ast":null,"code":"import { canUseDom } from './can-use-dom';\nconst defaultRoot = canUseDom ? window : undefined;\nconst overflowStylePatterns = ['scroll', 'auto', 'overlay'];\n\nfunction isElement(node) {\n  const ELEMENT_NODE_TYPE = 1;\n  return node.nodeType === ELEMENT_NODE_TYPE;\n}\n\nexport function getScrollParent(el) {\n  let root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultRoot;\n  let node = el;\n\n  while (node && node !== root && isElement(node)) {\n    if (node === document.body) {\n      return root;\n    }\n\n    const {\n      overflowY\n    } = window.getComputedStyle(node);\n\n    if (overflowStylePatterns.includes(overflowY) && node.scrollHeight > node.clientHeight) {\n      return node;\n    }\n\n    node = node.parentNode;\n  }\n\n  return root;\n}","map":{"version":3,"names":["canUseDom","defaultRoot","window","undefined","overflowStylePatterns","isElement","node","ELEMENT_NODE_TYPE","nodeType","getScrollParent","el","root","document","body","overflowY","getComputedStyle","includes","scrollHeight","clientHeight","parentNode"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/antd-mobile/es/utils/get-scroll-parent.js"],"sourcesContent":["import { canUseDom } from './can-use-dom';\nconst defaultRoot = canUseDom ? window : undefined;\nconst overflowStylePatterns = ['scroll', 'auto', 'overlay'];\nfunction isElement(node) {\n  const ELEMENT_NODE_TYPE = 1;\n  return node.nodeType === ELEMENT_NODE_TYPE;\n}\nexport function getScrollParent(el, root = defaultRoot) {\n  let node = el;\n  while (node && node !== root && isElement(node)) {\n    if (node === document.body) {\n      return root;\n    }\n    const {\n      overflowY\n    } = window.getComputedStyle(node);\n    if (overflowStylePatterns.includes(overflowY) && node.scrollHeight > node.clientHeight) {\n      return node;\n    }\n    node = node.parentNode;\n  }\n  return root;\n}"],"mappings":"AAAA,SAASA,SAAT,QAA0B,eAA1B;AACA,MAAMC,WAAW,GAAGD,SAAS,GAAGE,MAAH,GAAYC,SAAzC;AACA,MAAMC,qBAAqB,GAAG,CAAC,QAAD,EAAW,MAAX,EAAmB,SAAnB,CAA9B;;AACA,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;EACvB,MAAMC,iBAAiB,GAAG,CAA1B;EACA,OAAOD,IAAI,CAACE,QAAL,KAAkBD,iBAAzB;AACD;;AACD,OAAO,SAASE,eAAT,CAAyBC,EAAzB,EAAiD;EAAA,IAApBC,IAAoB,uEAAbV,WAAa;EACtD,IAAIK,IAAI,GAAGI,EAAX;;EACA,OAAOJ,IAAI,IAAIA,IAAI,KAAKK,IAAjB,IAAyBN,SAAS,CAACC,IAAD,CAAzC,EAAiD;IAC/C,IAAIA,IAAI,KAAKM,QAAQ,CAACC,IAAtB,EAA4B;MAC1B,OAAOF,IAAP;IACD;;IACD,MAAM;MACJG;IADI,IAEFZ,MAAM,CAACa,gBAAP,CAAwBT,IAAxB,CAFJ;;IAGA,IAAIF,qBAAqB,CAACY,QAAtB,CAA+BF,SAA/B,KAA6CR,IAAI,CAACW,YAAL,GAAoBX,IAAI,CAACY,YAA1E,EAAwF;MACtF,OAAOZ,IAAP;IACD;;IACDA,IAAI,GAAGA,IAAI,CAACa,UAAZ;EACD;;EACD,OAAOR,IAAP;AACD"},"metadata":{},"sourceType":"module"}