{"ast":null,"code":"import React, { useMemo, useRef, useState } from 'react';\nimport runes from 'runes';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { withNativeProps } from '../../utils/native-props';\nimport { useResizeEffect } from '../../utils/use-resize-effect';\nimport { useIsomorphicLayoutEffect } from 'ahooks';\nimport { withStopPropagation } from '../../utils/with-stop-propagation';\nconst classPrefix = `adm-ellipsis`;\nconst defaultProps = {\n  direction: 'end',\n  rows: 1,\n  expandText: '',\n  content: '',\n  collapseText: '',\n  stopPropagationForActionButtons: [],\n  onContentClick: () => {}\n};\nexport const Ellipsis = p => {\n  const props = mergeProps(defaultProps, p);\n  const rootRef = useRef(null);\n  const [ellipsised, setEllipsised] = useState({});\n  const [expanded, setExpanded] = useState(false);\n  const [exceeded, setExceeded] = useState(false);\n  const chars = useMemo(() => runes(props.content), [props.content]);\n\n  function getSubString(start, end) {\n    return chars.slice(start, end).join('');\n  }\n\n  function calcEllipsised() {\n    const root = rootRef.current;\n    if (!root) return;\n    if (!root.offsetParent) return;\n    const originStyle = window.getComputedStyle(root);\n    const container = document.createElement('div');\n    const styleNames = Array.prototype.slice.apply(originStyle);\n    styleNames.forEach(name => {\n      container.style.setProperty(name, originStyle.getPropertyValue(name));\n    });\n    container.style.position = 'fixed';\n    container.style.left = '999999px';\n    container.style.top = '999999px';\n    container.style.zIndex = '-1000';\n    container.style.height = 'auto';\n    container.style.minHeight = 'auto';\n    container.style.maxHeight = 'auto';\n    container.style.textOverflow = 'clip';\n    container.style.whiteSpace = 'normal';\n    container.style.webkitLineClamp = 'unset';\n    container.style.display = 'block';\n    const lineHeight = pxToNumber(originStyle.lineHeight);\n    const maxHeight = Math.floor(lineHeight * (props.rows + 0.5) + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom));\n    container.innerText = props.content;\n    document.body.appendChild(container);\n\n    if (container.offsetHeight <= maxHeight) {\n      setExceeded(false);\n    } else {\n      setExceeded(true);\n      const end = props.content.length;\n      const actionText = expanded ? props.collapseText : props.expandText;\n\n      function check(left, right) {\n        if (right - left <= 1) {\n          if (props.direction === 'end') {\n            return {\n              leading: getSubString(0, left) + '...'\n            };\n          } else {\n            return {\n              tailing: '...' + getSubString(right, end)\n            };\n          }\n        }\n\n        const middle = Math.round((left + right) / 2);\n\n        if (props.direction === 'end') {\n          container.innerText = getSubString(0, middle) + '...' + actionText;\n        } else {\n          container.innerText = actionText + '...' + getSubString(middle, end);\n        }\n\n        if (container.offsetHeight <= maxHeight) {\n          if (props.direction === 'end') {\n            return check(middle, right);\n          } else {\n            return check(left, middle);\n          }\n        } else {\n          if (props.direction === 'end') {\n            return check(left, middle);\n          } else {\n            return check(middle, right);\n          }\n        }\n      }\n\n      function checkMiddle(leftPart, rightPart) {\n        if (leftPart[1] - leftPart[0] <= 1 && rightPart[1] - rightPart[0] <= 1) {\n          return {\n            leading: getSubString(0, leftPart[0]) + '...',\n            tailing: '...' + getSubString(rightPart[1], end)\n          };\n        }\n\n        const leftPartMiddle = Math.floor((leftPart[0] + leftPart[1]) / 2);\n        const rightPartMiddle = Math.ceil((rightPart[0] + rightPart[1]) / 2);\n        container.innerText = getSubString(0, leftPartMiddle) + '...' + actionText + '...' + getSubString(rightPartMiddle, end);\n\n        if (container.offsetHeight <= maxHeight) {\n          return checkMiddle([leftPartMiddle, leftPart[1]], [rightPart[0], rightPartMiddle]);\n        } else {\n          return checkMiddle([leftPart[0], leftPartMiddle], [rightPartMiddle, rightPart[1]]);\n        }\n      }\n\n      const middle = Math.floor((0 + end) / 2);\n      const ellipsised = props.direction === 'middle' ? checkMiddle([0, middle], [middle, end]) : check(0, end);\n      setEllipsised(ellipsised);\n    }\n\n    document.body.removeChild(container);\n  }\n\n  useResizeEffect(calcEllipsised, rootRef);\n  useIsomorphicLayoutEffect(() => {\n    calcEllipsised();\n  }, [props.content, props.direction, props.rows, props.expandText, props.collapseText]);\n  const expandActionElement = exceeded && props.expandText ? withStopPropagation(props.stopPropagationForActionButtons, React.createElement(\"a\", {\n    onClick: () => {\n      setExpanded(true);\n    }\n  }, props.expandText)) : null;\n  const collapseActionElement = exceeded && props.expandText ? withStopPropagation(props.stopPropagationForActionButtons, React.createElement(\"a\", {\n    onClick: () => {\n      setExpanded(false);\n    }\n  }, props.collapseText)) : null;\n\n  const renderContent = () => {\n    if (!exceeded) {\n      return props.content;\n    }\n\n    if (expanded) {\n      return React.createElement(React.Fragment, null, props.content, collapseActionElement);\n    } else {\n      return React.createElement(React.Fragment, null, ellipsised.leading, expandActionElement, ellipsised.tailing);\n    }\n  };\n\n  return withNativeProps(props, React.createElement(\"div\", {\n    ref: rootRef,\n    className: classPrefix,\n    onClick: e => {\n      if (e.target === e.currentTarget) {\n        props.onContentClick(e);\n      }\n    }\n  }, renderContent()));\n};\n\nfunction pxToNumber(value) {\n  if (!value) return 0;\n  const match = value.match(/^\\d*(\\.\\d*)?/);\n  return match ? Number(match[0]) : 0;\n}","map":{"version":3,"names":["React","useMemo","useRef","useState","runes","mergeProps","withNativeProps","useResizeEffect","useIsomorphicLayoutEffect","withStopPropagation","classPrefix","defaultProps","direction","rows","expandText","content","collapseText","stopPropagationForActionButtons","onContentClick","Ellipsis","p","props","rootRef","ellipsised","setEllipsised","expanded","setExpanded","exceeded","setExceeded","chars","getSubString","start","end","slice","join","calcEllipsised","root","current","offsetParent","originStyle","window","getComputedStyle","container","document","createElement","styleNames","Array","prototype","apply","forEach","name","style","setProperty","getPropertyValue","position","left","top","zIndex","height","minHeight","maxHeight","textOverflow","whiteSpace","webkitLineClamp","display","lineHeight","pxToNumber","Math","floor","paddingTop","paddingBottom","innerText","body","appendChild","offsetHeight","length","actionText","check","right","leading","tailing","middle","round","checkMiddle","leftPart","rightPart","leftPartMiddle","rightPartMiddle","ceil","removeChild","expandActionElement","onClick","collapseActionElement","renderContent","Fragment","ref","className","e","target","currentTarget","value","match","Number"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/antd-mobile/es/components/ellipsis/ellipsis.js"],"sourcesContent":["import React, { useMemo, useRef, useState } from 'react';\nimport runes from 'runes';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { withNativeProps } from '../../utils/native-props';\nimport { useResizeEffect } from '../../utils/use-resize-effect';\nimport { useIsomorphicLayoutEffect } from 'ahooks';\nimport { withStopPropagation } from '../../utils/with-stop-propagation';\nconst classPrefix = `adm-ellipsis`;\nconst defaultProps = {\n  direction: 'end',\n  rows: 1,\n  expandText: '',\n  content: '',\n  collapseText: '',\n  stopPropagationForActionButtons: [],\n  onContentClick: () => {}\n};\nexport const Ellipsis = p => {\n  const props = mergeProps(defaultProps, p);\n  const rootRef = useRef(null);\n  const [ellipsised, setEllipsised] = useState({});\n  const [expanded, setExpanded] = useState(false);\n  const [exceeded, setExceeded] = useState(false);\n  const chars = useMemo(() => runes(props.content), [props.content]);\n  function getSubString(start, end) {\n    return chars.slice(start, end).join('');\n  }\n  function calcEllipsised() {\n    const root = rootRef.current;\n    if (!root) return;\n    if (!root.offsetParent) return;\n    const originStyle = window.getComputedStyle(root);\n    const container = document.createElement('div');\n    const styleNames = Array.prototype.slice.apply(originStyle);\n    styleNames.forEach(name => {\n      container.style.setProperty(name, originStyle.getPropertyValue(name));\n    });\n    container.style.position = 'fixed';\n    container.style.left = '999999px';\n    container.style.top = '999999px';\n    container.style.zIndex = '-1000';\n    container.style.height = 'auto';\n    container.style.minHeight = 'auto';\n    container.style.maxHeight = 'auto';\n    container.style.textOverflow = 'clip';\n    container.style.whiteSpace = 'normal';\n    container.style.webkitLineClamp = 'unset';\n    container.style.display = 'block';\n    const lineHeight = pxToNumber(originStyle.lineHeight);\n    const maxHeight = Math.floor(lineHeight * (props.rows + 0.5) + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom));\n    container.innerText = props.content;\n    document.body.appendChild(container);\n    if (container.offsetHeight <= maxHeight) {\n      setExceeded(false);\n    } else {\n      setExceeded(true);\n      const end = props.content.length;\n      const actionText = expanded ? props.collapseText : props.expandText;\n      function check(left, right) {\n        if (right - left <= 1) {\n          if (props.direction === 'end') {\n            return {\n              leading: getSubString(0, left) + '...'\n            };\n          } else {\n            return {\n              tailing: '...' + getSubString(right, end)\n            };\n          }\n        }\n        const middle = Math.round((left + right) / 2);\n        if (props.direction === 'end') {\n          container.innerText = getSubString(0, middle) + '...' + actionText;\n        } else {\n          container.innerText = actionText + '...' + getSubString(middle, end);\n        }\n        if (container.offsetHeight <= maxHeight) {\n          if (props.direction === 'end') {\n            return check(middle, right);\n          } else {\n            return check(left, middle);\n          }\n        } else {\n          if (props.direction === 'end') {\n            return check(left, middle);\n          } else {\n            return check(middle, right);\n          }\n        }\n      }\n      function checkMiddle(leftPart, rightPart) {\n        if (leftPart[1] - leftPart[0] <= 1 && rightPart[1] - rightPart[0] <= 1) {\n          return {\n            leading: getSubString(0, leftPart[0]) + '...',\n            tailing: '...' + getSubString(rightPart[1], end)\n          };\n        }\n        const leftPartMiddle = Math.floor((leftPart[0] + leftPart[1]) / 2);\n        const rightPartMiddle = Math.ceil((rightPart[0] + rightPart[1]) / 2);\n        container.innerText = getSubString(0, leftPartMiddle) + '...' + actionText + '...' + getSubString(rightPartMiddle, end);\n        if (container.offsetHeight <= maxHeight) {\n          return checkMiddle([leftPartMiddle, leftPart[1]], [rightPart[0], rightPartMiddle]);\n        } else {\n          return checkMiddle([leftPart[0], leftPartMiddle], [rightPartMiddle, rightPart[1]]);\n        }\n      }\n      const middle = Math.floor((0 + end) / 2);\n      const ellipsised = props.direction === 'middle' ? checkMiddle([0, middle], [middle, end]) : check(0, end);\n      setEllipsised(ellipsised);\n    }\n    document.body.removeChild(container);\n  }\n  useResizeEffect(calcEllipsised, rootRef);\n  useIsomorphicLayoutEffect(() => {\n    calcEllipsised();\n  }, [props.content, props.direction, props.rows, props.expandText, props.collapseText]);\n  const expandActionElement = exceeded && props.expandText ? withStopPropagation(props.stopPropagationForActionButtons, React.createElement(\"a\", {\n    onClick: () => {\n      setExpanded(true);\n    }\n  }, props.expandText)) : null;\n  const collapseActionElement = exceeded && props.expandText ? withStopPropagation(props.stopPropagationForActionButtons, React.createElement(\"a\", {\n    onClick: () => {\n      setExpanded(false);\n    }\n  }, props.collapseText)) : null;\n  const renderContent = () => {\n    if (!exceeded) {\n      return props.content;\n    }\n    if (expanded) {\n      return React.createElement(React.Fragment, null, props.content, collapseActionElement);\n    } else {\n      return React.createElement(React.Fragment, null, ellipsised.leading, expandActionElement, ellipsised.tailing);\n    }\n  };\n  return withNativeProps(props, React.createElement(\"div\", {\n    ref: rootRef,\n    className: classPrefix,\n    onClick: e => {\n      if (e.target === e.currentTarget) {\n        props.onContentClick(e);\n      }\n    }\n  }, renderContent()));\n};\nfunction pxToNumber(value) {\n  if (!value) return 0;\n  const match = value.match(/^\\d*(\\.\\d*)?/);\n  return match ? Number(match[0]) : 0;\n}"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,OAAhB,EAAyBC,MAAzB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,gCAA3B;AACA,SAASC,eAAT,QAAgC,0BAAhC;AACA,SAASC,eAAT,QAAgC,+BAAhC;AACA,SAASC,yBAAT,QAA0C,QAA1C;AACA,SAASC,mBAAT,QAAoC,mCAApC;AACA,MAAMC,WAAW,GAAI,cAArB;AACA,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE,KADQ;EAEnBC,IAAI,EAAE,CAFa;EAGnBC,UAAU,EAAE,EAHO;EAInBC,OAAO,EAAE,EAJU;EAKnBC,YAAY,EAAE,EALK;EAMnBC,+BAA+B,EAAE,EANd;EAOnBC,cAAc,EAAE,MAAM,CAAE;AAPL,CAArB;AASA,OAAO,MAAMC,QAAQ,GAAGC,CAAC,IAAI;EAC3B,MAAMC,KAAK,GAAGhB,UAAU,CAACM,YAAD,EAAeS,CAAf,CAAxB;EACA,MAAME,OAAO,GAAGpB,MAAM,CAAC,IAAD,CAAtB;EACA,MAAM,CAACqB,UAAD,EAAaC,aAAb,IAA8BrB,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM,CAACsB,QAAD,EAAWC,WAAX,IAA0BvB,QAAQ,CAAC,KAAD,CAAxC;EACA,MAAM,CAACwB,QAAD,EAAWC,WAAX,IAA0BzB,QAAQ,CAAC,KAAD,CAAxC;EACA,MAAM0B,KAAK,GAAG5B,OAAO,CAAC,MAAMG,KAAK,CAACiB,KAAK,CAACN,OAAP,CAAZ,EAA6B,CAACM,KAAK,CAACN,OAAP,CAA7B,CAArB;;EACA,SAASe,YAAT,CAAsBC,KAAtB,EAA6BC,GAA7B,EAAkC;IAChC,OAAOH,KAAK,CAACI,KAAN,CAAYF,KAAZ,EAAmBC,GAAnB,EAAwBE,IAAxB,CAA6B,EAA7B,CAAP;EACD;;EACD,SAASC,cAAT,GAA0B;IACxB,MAAMC,IAAI,GAAGd,OAAO,CAACe,OAArB;IACA,IAAI,CAACD,IAAL,EAAW;IACX,IAAI,CAACA,IAAI,CAACE,YAAV,EAAwB;IACxB,MAAMC,WAAW,GAAGC,MAAM,CAACC,gBAAP,CAAwBL,IAAxB,CAApB;IACA,MAAMM,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAlB;IACA,MAAMC,UAAU,GAAGC,KAAK,CAACC,SAAN,CAAgBd,KAAhB,CAAsBe,KAAtB,CAA4BT,WAA5B,CAAnB;IACAM,UAAU,CAACI,OAAX,CAAmBC,IAAI,IAAI;MACzBR,SAAS,CAACS,KAAV,CAAgBC,WAAhB,CAA4BF,IAA5B,EAAkCX,WAAW,CAACc,gBAAZ,CAA6BH,IAA7B,CAAlC;IACD,CAFD;IAGAR,SAAS,CAACS,KAAV,CAAgBG,QAAhB,GAA2B,OAA3B;IACAZ,SAAS,CAACS,KAAV,CAAgBI,IAAhB,GAAuB,UAAvB;IACAb,SAAS,CAACS,KAAV,CAAgBK,GAAhB,GAAsB,UAAtB;IACAd,SAAS,CAACS,KAAV,CAAgBM,MAAhB,GAAyB,OAAzB;IACAf,SAAS,CAACS,KAAV,CAAgBO,MAAhB,GAAyB,MAAzB;IACAhB,SAAS,CAACS,KAAV,CAAgBQ,SAAhB,GAA4B,MAA5B;IACAjB,SAAS,CAACS,KAAV,CAAgBS,SAAhB,GAA4B,MAA5B;IACAlB,SAAS,CAACS,KAAV,CAAgBU,YAAhB,GAA+B,MAA/B;IACAnB,SAAS,CAACS,KAAV,CAAgBW,UAAhB,GAA6B,QAA7B;IACApB,SAAS,CAACS,KAAV,CAAgBY,eAAhB,GAAkC,OAAlC;IACArB,SAAS,CAACS,KAAV,CAAgBa,OAAhB,GAA0B,OAA1B;IACA,MAAMC,UAAU,GAAGC,UAAU,CAAC3B,WAAW,CAAC0B,UAAb,CAA7B;IACA,MAAML,SAAS,GAAGO,IAAI,CAACC,KAAL,CAAWH,UAAU,IAAI5C,KAAK,CAACR,IAAN,GAAa,GAAjB,CAAV,GAAkCqD,UAAU,CAAC3B,WAAW,CAAC8B,UAAb,CAA5C,GAAuEH,UAAU,CAAC3B,WAAW,CAAC+B,aAAb,CAA5F,CAAlB;IACA5B,SAAS,CAAC6B,SAAV,GAAsBlD,KAAK,CAACN,OAA5B;IACA4B,QAAQ,CAAC6B,IAAT,CAAcC,WAAd,CAA0B/B,SAA1B;;IACA,IAAIA,SAAS,CAACgC,YAAV,IAA0Bd,SAA9B,EAAyC;MACvChC,WAAW,CAAC,KAAD,CAAX;IACD,CAFD,MAEO;MACLA,WAAW,CAAC,IAAD,CAAX;MACA,MAAMI,GAAG,GAAGX,KAAK,CAACN,OAAN,CAAc4D,MAA1B;MACA,MAAMC,UAAU,GAAGnD,QAAQ,GAAGJ,KAAK,CAACL,YAAT,GAAwBK,KAAK,CAACP,UAAzD;;MACA,SAAS+D,KAAT,CAAetB,IAAf,EAAqBuB,KAArB,EAA4B;QAC1B,IAAIA,KAAK,GAAGvB,IAAR,IAAgB,CAApB,EAAuB;UACrB,IAAIlC,KAAK,CAACT,SAAN,KAAoB,KAAxB,EAA+B;YAC7B,OAAO;cACLmE,OAAO,EAAEjD,YAAY,CAAC,CAAD,EAAIyB,IAAJ,CAAZ,GAAwB;YAD5B,CAAP;UAGD,CAJD,MAIO;YACL,OAAO;cACLyB,OAAO,EAAE,QAAQlD,YAAY,CAACgD,KAAD,EAAQ9C,GAAR;YADxB,CAAP;UAGD;QACF;;QACD,MAAMiD,MAAM,GAAGd,IAAI,CAACe,KAAL,CAAW,CAAC3B,IAAI,GAAGuB,KAAR,IAAiB,CAA5B,CAAf;;QACA,IAAIzD,KAAK,CAACT,SAAN,KAAoB,KAAxB,EAA+B;UAC7B8B,SAAS,CAAC6B,SAAV,GAAsBzC,YAAY,CAAC,CAAD,EAAImD,MAAJ,CAAZ,GAA0B,KAA1B,GAAkCL,UAAxD;QACD,CAFD,MAEO;UACLlC,SAAS,CAAC6B,SAAV,GAAsBK,UAAU,GAAG,KAAb,GAAqB9C,YAAY,CAACmD,MAAD,EAASjD,GAAT,CAAvD;QACD;;QACD,IAAIU,SAAS,CAACgC,YAAV,IAA0Bd,SAA9B,EAAyC;UACvC,IAAIvC,KAAK,CAACT,SAAN,KAAoB,KAAxB,EAA+B;YAC7B,OAAOiE,KAAK,CAACI,MAAD,EAASH,KAAT,CAAZ;UACD,CAFD,MAEO;YACL,OAAOD,KAAK,CAACtB,IAAD,EAAO0B,MAAP,CAAZ;UACD;QACF,CAND,MAMO;UACL,IAAI5D,KAAK,CAACT,SAAN,KAAoB,KAAxB,EAA+B;YAC7B,OAAOiE,KAAK,CAACtB,IAAD,EAAO0B,MAAP,CAAZ;UACD,CAFD,MAEO;YACL,OAAOJ,KAAK,CAACI,MAAD,EAASH,KAAT,CAAZ;UACD;QACF;MACF;;MACD,SAASK,WAAT,CAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;QACxC,IAAID,QAAQ,CAAC,CAAD,CAAR,GAAcA,QAAQ,CAAC,CAAD,CAAtB,IAA6B,CAA7B,IAAkCC,SAAS,CAAC,CAAD,CAAT,GAAeA,SAAS,CAAC,CAAD,CAAxB,IAA+B,CAArE,EAAwE;UACtE,OAAO;YACLN,OAAO,EAAEjD,YAAY,CAAC,CAAD,EAAIsD,QAAQ,CAAC,CAAD,CAAZ,CAAZ,GAA+B,KADnC;YAELJ,OAAO,EAAE,QAAQlD,YAAY,CAACuD,SAAS,CAAC,CAAD,CAAV,EAAerD,GAAf;UAFxB,CAAP;QAID;;QACD,MAAMsD,cAAc,GAAGnB,IAAI,CAACC,KAAL,CAAW,CAACgB,QAAQ,CAAC,CAAD,CAAR,GAAcA,QAAQ,CAAC,CAAD,CAAvB,IAA8B,CAAzC,CAAvB;QACA,MAAMG,eAAe,GAAGpB,IAAI,CAACqB,IAAL,CAAU,CAACH,SAAS,CAAC,CAAD,CAAT,GAAeA,SAAS,CAAC,CAAD,CAAzB,IAAgC,CAA1C,CAAxB;QACA3C,SAAS,CAAC6B,SAAV,GAAsBzC,YAAY,CAAC,CAAD,EAAIwD,cAAJ,CAAZ,GAAkC,KAAlC,GAA0CV,UAA1C,GAAuD,KAAvD,GAA+D9C,YAAY,CAACyD,eAAD,EAAkBvD,GAAlB,CAAjG;;QACA,IAAIU,SAAS,CAACgC,YAAV,IAA0Bd,SAA9B,EAAyC;UACvC,OAAOuB,WAAW,CAAC,CAACG,cAAD,EAAiBF,QAAQ,CAAC,CAAD,CAAzB,CAAD,EAAgC,CAACC,SAAS,CAAC,CAAD,CAAV,EAAeE,eAAf,CAAhC,CAAlB;QACD,CAFD,MAEO;UACL,OAAOJ,WAAW,CAAC,CAACC,QAAQ,CAAC,CAAD,CAAT,EAAcE,cAAd,CAAD,EAAgC,CAACC,eAAD,EAAkBF,SAAS,CAAC,CAAD,CAA3B,CAAhC,CAAlB;QACD;MACF;;MACD,MAAMJ,MAAM,GAAGd,IAAI,CAACC,KAAL,CAAW,CAAC,IAAIpC,GAAL,IAAY,CAAvB,CAAf;MACA,MAAMT,UAAU,GAAGF,KAAK,CAACT,SAAN,KAAoB,QAApB,GAA+BuE,WAAW,CAAC,CAAC,CAAD,EAAIF,MAAJ,CAAD,EAAc,CAACA,MAAD,EAASjD,GAAT,CAAd,CAA1C,GAAyE6C,KAAK,CAAC,CAAD,EAAI7C,GAAJ,CAAjG;MACAR,aAAa,CAACD,UAAD,CAAb;IACD;;IACDoB,QAAQ,CAAC6B,IAAT,CAAciB,WAAd,CAA0B/C,SAA1B;EACD;;EACDnC,eAAe,CAAC4B,cAAD,EAAiBb,OAAjB,CAAf;EACAd,yBAAyB,CAAC,MAAM;IAC9B2B,cAAc;EACf,CAFwB,EAEtB,CAACd,KAAK,CAACN,OAAP,EAAgBM,KAAK,CAACT,SAAtB,EAAiCS,KAAK,CAACR,IAAvC,EAA6CQ,KAAK,CAACP,UAAnD,EAA+DO,KAAK,CAACL,YAArE,CAFsB,CAAzB;EAGA,MAAM0E,mBAAmB,GAAG/D,QAAQ,IAAIN,KAAK,CAACP,UAAlB,GAA+BL,mBAAmB,CAACY,KAAK,CAACJ,+BAAP,EAAwCjB,KAAK,CAAC4C,aAAN,CAAoB,GAApB,EAAyB;IAC7I+C,OAAO,EAAE,MAAM;MACbjE,WAAW,CAAC,IAAD,CAAX;IACD;EAH4I,CAAzB,EAInHL,KAAK,CAACP,UAJ6G,CAAxC,CAAlD,GAIJ,IAJxB;EAKA,MAAM8E,qBAAqB,GAAGjE,QAAQ,IAAIN,KAAK,CAACP,UAAlB,GAA+BL,mBAAmB,CAACY,KAAK,CAACJ,+BAAP,EAAwCjB,KAAK,CAAC4C,aAAN,CAAoB,GAApB,EAAyB;IAC/I+C,OAAO,EAAE,MAAM;MACbjE,WAAW,CAAC,KAAD,CAAX;IACD;EAH8I,CAAzB,EAIrHL,KAAK,CAACL,YAJ+G,CAAxC,CAAlD,GAIJ,IAJ1B;;EAKA,MAAM6E,aAAa,GAAG,MAAM;IAC1B,IAAI,CAAClE,QAAL,EAAe;MACb,OAAON,KAAK,CAACN,OAAb;IACD;;IACD,IAAIU,QAAJ,EAAc;MACZ,OAAOzB,KAAK,CAAC4C,aAAN,CAAoB5C,KAAK,CAAC8F,QAA1B,EAAoC,IAApC,EAA0CzE,KAAK,CAACN,OAAhD,EAAyD6E,qBAAzD,CAAP;IACD,CAFD,MAEO;MACL,OAAO5F,KAAK,CAAC4C,aAAN,CAAoB5C,KAAK,CAAC8F,QAA1B,EAAoC,IAApC,EAA0CvE,UAAU,CAACwD,OAArD,EAA8DW,mBAA9D,EAAmFnE,UAAU,CAACyD,OAA9F,CAAP;IACD;EACF,CATD;;EAUA,OAAO1E,eAAe,CAACe,KAAD,EAAQrB,KAAK,CAAC4C,aAAN,CAAoB,KAApB,EAA2B;IACvDmD,GAAG,EAAEzE,OADkD;IAEvD0E,SAAS,EAAEtF,WAF4C;IAGvDiF,OAAO,EAAEM,CAAC,IAAI;MACZ,IAAIA,CAAC,CAACC,MAAF,KAAaD,CAAC,CAACE,aAAnB,EAAkC;QAChC9E,KAAK,CAACH,cAAN,CAAqB+E,CAArB;MACD;IACF;EAPsD,CAA3B,EAQ3BJ,aAAa,EARc,CAAR,CAAtB;AASD,CAhIM;;AAiIP,SAAS3B,UAAT,CAAoBkC,KAApB,EAA2B;EACzB,IAAI,CAACA,KAAL,EAAY,OAAO,CAAP;EACZ,MAAMC,KAAK,GAAGD,KAAK,CAACC,KAAN,CAAY,cAAZ,CAAd;EACA,OAAOA,KAAK,GAAGC,MAAM,CAACD,KAAK,CAAC,CAAD,CAAN,CAAT,GAAsB,CAAlC;AACD"},"metadata":{},"sourceType":"module"}