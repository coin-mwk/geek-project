{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport React from 'react';\nimport { mergeProps } from '../../utils/with-default-props';\nimport classNames from 'classnames';\nimport { DialogActionButton } from './dialog-action-button';\nimport Image from '../image';\nimport AutoCenter from '../auto-center';\nimport CenterPopup from '../center-popup';\nconst defaultProps = {\n  actions: [],\n  closeOnAction: false,\n  closeOnMaskClick: false,\n  getContainer: null\n};\nexport const Dialog = p => {\n  const props = mergeProps(defaultProps, p);\n  const element = React.createElement(React.Fragment, null, !!props.image && React.createElement(\"div\", {\n    className: cls('image-container')\n  }, React.createElement(Image, {\n    src: props.image,\n    alt: 'dialog header image',\n    width: '100%'\n  })), !!props.header && React.createElement(\"div\", {\n    className: cls('header')\n  }, React.createElement(AutoCenter, null, props.header)), !!props.title && React.createElement(\"div\", {\n    className: cls('title')\n  }, props.title), React.createElement(\"div\", {\n    className: classNames(cls('content'), !props.content && cls('content-empty'))\n  }, typeof props.content === 'string' ? React.createElement(AutoCenter, null, props.content) : props.content), React.createElement(\"div\", {\n    className: cls('footer')\n  }, props.actions.map((row, index) => {\n    const actions = Array.isArray(row) ? row : [row];\n    return React.createElement(\"div\", {\n      className: cls('action-row'),\n      key: index\n    }, actions.map((action, index) => React.createElement(DialogActionButton, {\n      key: action.key,\n      action: action,\n      onAction: () => __awaiter(void 0, void 0, void 0, function* () {\n        var _a, _b, _c;\n\n        yield Promise.all([(_a = action.onClick) === null || _a === void 0 ? void 0 : _a.call(action), (_b = props.onAction) === null || _b === void 0 ? void 0 : _b.call(props, action, index)]);\n\n        if (props.closeOnAction) {\n          (_c = props.onClose) === null || _c === void 0 ? void 0 : _c.call(props);\n        }\n      })\n    })));\n  })));\n  return React.createElement(CenterPopup, {\n    className: classNames(cls(), props.className),\n    style: props.style,\n    afterClose: props.afterClose,\n    afterShow: props.afterShow,\n    onMaskClick: props.closeOnMaskClick ? () => {\n      var _a;\n\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    } : undefined,\n    visible: props.visible,\n    getContainer: props.getContainer,\n    bodyStyle: props.bodyStyle,\n    bodyClassName: classNames(cls('body'), props.image && cls('with-image'), props.bodyClassName),\n    maskStyle: props.maskStyle,\n    maskClassName: props.maskClassName,\n    stopPropagation: props.stopPropagation,\n    disableBodyScroll: props.disableBodyScroll,\n    destroyOnClose: props.destroyOnClose,\n    forceRender: props.forceRender,\n    role: 'dialog',\n    \"aria-label\": props['aria-label']\n  }, element);\n};\n\nfunction cls() {\n  let name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return 'adm-dialog' + (name && '-') + name;\n}","map":{"version":3,"names":["__awaiter","React","mergeProps","classNames","DialogActionButton","Image","AutoCenter","CenterPopup","defaultProps","actions","closeOnAction","closeOnMaskClick","getContainer","Dialog","p","props","element","createElement","Fragment","image","className","cls","src","alt","width","header","title","content","map","row","index","Array","isArray","key","action","onAction","_a","_b","_c","Promise","all","onClick","call","onClose","style","afterClose","afterShow","onMaskClick","undefined","visible","bodyStyle","bodyClassName","maskStyle","maskClassName","stopPropagation","disableBodyScroll","destroyOnClose","forceRender","role","name"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/antd-mobile/es/components/dialog/dialog.js"],"sourcesContent":["import { __awaiter } from \"tslib\";\nimport React from 'react';\nimport { mergeProps } from '../../utils/with-default-props';\nimport classNames from 'classnames';\nimport { DialogActionButton } from './dialog-action-button';\nimport Image from '../image';\nimport AutoCenter from '../auto-center';\nimport CenterPopup from '../center-popup';\nconst defaultProps = {\n  actions: [],\n  closeOnAction: false,\n  closeOnMaskClick: false,\n  getContainer: null\n};\nexport const Dialog = p => {\n  const props = mergeProps(defaultProps, p);\n  const element = React.createElement(React.Fragment, null, !!props.image && React.createElement(\"div\", {\n    className: cls('image-container')\n  }, React.createElement(Image, {\n    src: props.image,\n    alt: 'dialog header image',\n    width: '100%'\n  })), !!props.header && React.createElement(\"div\", {\n    className: cls('header')\n  }, React.createElement(AutoCenter, null, props.header)), !!props.title && React.createElement(\"div\", {\n    className: cls('title')\n  }, props.title), React.createElement(\"div\", {\n    className: classNames(cls('content'), !props.content && cls('content-empty'))\n  }, typeof props.content === 'string' ? React.createElement(AutoCenter, null, props.content) : props.content), React.createElement(\"div\", {\n    className: cls('footer')\n  }, props.actions.map((row, index) => {\n    const actions = Array.isArray(row) ? row : [row];\n    return React.createElement(\"div\", {\n      className: cls('action-row'),\n      key: index\n    }, actions.map((action, index) => React.createElement(DialogActionButton, {\n      key: action.key,\n      action: action,\n      onAction: () => __awaiter(void 0, void 0, void 0, function* () {\n        var _a, _b, _c;\n\n        yield Promise.all([(_a = action.onClick) === null || _a === void 0 ? void 0 : _a.call(action), (_b = props.onAction) === null || _b === void 0 ? void 0 : _b.call(props, action, index)]);\n\n        if (props.closeOnAction) {\n          (_c = props.onClose) === null || _c === void 0 ? void 0 : _c.call(props);\n        }\n      })\n    })));\n  })));\n  return React.createElement(CenterPopup, {\n    className: classNames(cls(), props.className),\n    style: props.style,\n    afterClose: props.afterClose,\n    afterShow: props.afterShow,\n    onMaskClick: props.closeOnMaskClick ? () => {\n      var _a;\n\n      (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    } : undefined,\n    visible: props.visible,\n    getContainer: props.getContainer,\n    bodyStyle: props.bodyStyle,\n    bodyClassName: classNames(cls('body'), props.image && cls('with-image'), props.bodyClassName),\n    maskStyle: props.maskStyle,\n    maskClassName: props.maskClassName,\n    stopPropagation: props.stopPropagation,\n    disableBodyScroll: props.disableBodyScroll,\n    destroyOnClose: props.destroyOnClose,\n    forceRender: props.forceRender,\n    role: 'dialog',\n    \"aria-label\": props['aria-label']\n  }, element);\n};\n\nfunction cls(name = '') {\n  return 'adm-dialog' + (name && '-') + name;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}