{"ast":null,"code":"import React from 'react';\nimport { ImageViewer, MultiImageViewer } from './image-viewer';\nimport { renderImperatively } from '../../utils/render-imperatively';\nconst handlerSet = new Set();\nexport function showImageViewer(props) {\n  clearImageViewer();\n  const handler = renderImperatively(React.createElement(ImageViewer, Object.assign({}, props, {\n    afterClose: () => {\n      var _a;\n\n      handlerSet.delete(handler);\n      (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  })));\n  handlerSet.add(handler);\n  return handler;\n}\nexport function showMultiImageViewer(props) {\n  clearImageViewer();\n  const handler = renderImperatively(React.createElement(MultiImageViewer, Object.assign({}, props, {\n    afterClose: () => {\n      var _a;\n\n      handlerSet.delete(handler);\n      (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  })));\n  handlerSet.add(handler);\n  return handler;\n}\nexport function clearImageViewer() {\n  handlerSet.forEach(handler => {\n    handler.close();\n  });\n  handlerSet.clear();\n}","map":{"version":3,"names":["React","ImageViewer","MultiImageViewer","renderImperatively","handlerSet","Set","showImageViewer","props","clearImageViewer","handler","createElement","Object","assign","afterClose","_a","delete","call","add","showMultiImageViewer","forEach","close","clear"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/antd-mobile/es/components/image-viewer/methods.js"],"sourcesContent":["import React from 'react';\nimport { ImageViewer, MultiImageViewer } from './image-viewer';\nimport { renderImperatively } from '../../utils/render-imperatively';\nconst handlerSet = new Set();\nexport function showImageViewer(props) {\n  clearImageViewer();\n  const handler = renderImperatively(React.createElement(ImageViewer, Object.assign({}, props, {\n    afterClose: () => {\n      var _a;\n\n      handlerSet.delete(handler);\n      (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  })));\n  handlerSet.add(handler);\n  return handler;\n}\nexport function showMultiImageViewer(props) {\n  clearImageViewer();\n  const handler = renderImperatively(React.createElement(MultiImageViewer, Object.assign({}, props, {\n    afterClose: () => {\n      var _a;\n\n      handlerSet.delete(handler);\n      (_a = props.afterClose) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n  })));\n  handlerSet.add(handler);\n  return handler;\n}\nexport function clearImageViewer() {\n  handlerSet.forEach(handler => {\n    handler.close();\n  });\n  handlerSet.clear();\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,gBAAtB,QAA8C,gBAA9C;AACA,SAASC,kBAAT,QAAmC,iCAAnC;AACA,MAAMC,UAAU,GAAG,IAAIC,GAAJ,EAAnB;AACA,OAAO,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;EACrCC,gBAAgB;EAChB,MAAMC,OAAO,GAAGN,kBAAkB,CAACH,KAAK,CAACU,aAAN,CAAoBT,WAApB,EAAiCU,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;IAC3FM,UAAU,EAAE,MAAM;MAChB,IAAIC,EAAJ;;MAEAV,UAAU,CAACW,MAAX,CAAkBN,OAAlB;MACA,CAACK,EAAE,GAAGP,KAAK,CAACM,UAAZ,MAA4B,IAA5B,IAAoCC,EAAE,KAAK,KAAK,CAAhD,GAAoD,KAAK,CAAzD,GAA6DA,EAAE,CAACE,IAAH,CAAQT,KAAR,CAA7D;IACD;EAN0F,CAAzB,CAAjC,CAAD,CAAlC;EAQAH,UAAU,CAACa,GAAX,CAAeR,OAAf;EACA,OAAOA,OAAP;AACD;AACD,OAAO,SAASS,oBAAT,CAA8BX,KAA9B,EAAqC;EAC1CC,gBAAgB;EAChB,MAAMC,OAAO,GAAGN,kBAAkB,CAACH,KAAK,CAACU,aAAN,CAAoBR,gBAApB,EAAsCS,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;IAChGM,UAAU,EAAE,MAAM;MAChB,IAAIC,EAAJ;;MAEAV,UAAU,CAACW,MAAX,CAAkBN,OAAlB;MACA,CAACK,EAAE,GAAGP,KAAK,CAACM,UAAZ,MAA4B,IAA5B,IAAoCC,EAAE,KAAK,KAAK,CAAhD,GAAoD,KAAK,CAAzD,GAA6DA,EAAE,CAACE,IAAH,CAAQT,KAAR,CAA7D;IACD;EAN+F,CAAzB,CAAtC,CAAD,CAAlC;EAQAH,UAAU,CAACa,GAAX,CAAeR,OAAf;EACA,OAAOA,OAAP;AACD;AACD,OAAO,SAASD,gBAAT,GAA4B;EACjCJ,UAAU,CAACe,OAAX,CAAmBV,OAAO,IAAI;IAC5BA,OAAO,CAACW,KAAR;EACD,CAFD;EAGAhB,UAAU,CAACiB,KAAX;AACD"},"metadata":{},"sourceType":"module"}