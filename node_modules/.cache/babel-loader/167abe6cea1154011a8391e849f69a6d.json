{"ast":null,"code":"var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport align from 'dom-align';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport isWindow from './isWindow';\n\nfunction buffer(fn, ms) {\n  var timer = void 0;\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  }\n\n  function bufferFn() {\n    clear();\n    timer = setTimeout(fn, ms);\n  }\n\n  bufferFn.clear = clear;\n  return bufferFn;\n}\n\nvar Align = function (_Component) {\n  _inherits(Align, _Component);\n\n  function Align() {\n    _classCallCheck(this, Align);\n\n    var _this = _possibleConstructorReturn(this, (Align.__proto__ || Object.getPrototypeOf(Align)).apply(this, arguments));\n\n    _this.forceAlign = function () {\n      var props = _this.props;\n\n      if (!props.disabled) {\n        var source = ReactDOM.findDOMNode(_this);\n        props.onAlign(source, align(source, props.target(), props.align));\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Align, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var props = this.props;\n      this.forceAlign();\n\n      if (!props.disabled && props.monitorWindowResize) {\n        this.startMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var reAlign = false;\n      var props = this.props;\n\n      if (!props.disabled) {\n        if (prevProps.disabled || prevProps.align !== props.align) {\n          reAlign = true;\n        } else {\n          var lastTarget = prevProps.target();\n          var currentTarget = props.target();\n\n          if (isWindow(lastTarget) && isWindow(currentTarget)) {\n            reAlign = false;\n          } else if (lastTarget !== currentTarget) {\n            reAlign = true;\n          }\n        }\n      }\n\n      if (reAlign) {\n        this.forceAlign();\n      }\n\n      if (props.monitorWindowResize && !props.disabled) {\n        this.startMonitorWindowResize();\n      } else {\n        this.stopMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stopMonitorWindowResize();\n    }\n  }, {\n    key: 'startMonitorWindowResize',\n    value: function startMonitorWindowResize() {\n      if (!this.resizeHandler) {\n        this.bufferMonitor = buffer(this.forceAlign, this.props.monitorBufferTime);\n        this.resizeHandler = addEventListener(window, 'resize', this.bufferMonitor);\n      }\n    }\n  }, {\n    key: 'stopMonitorWindowResize',\n    value: function stopMonitorWindowResize() {\n      if (this.resizeHandler) {\n        this.bufferMonitor.clear();\n        this.resizeHandler.remove();\n        this.resizeHandler = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          childrenProps = _props.childrenProps,\n          children = _props.children;\n      var child = React.Children.only(children);\n\n      if (childrenProps) {\n        var newProps = {};\n\n        for (var prop in childrenProps) {\n          if (childrenProps.hasOwnProperty(prop)) {\n            newProps[prop] = this.props[childrenProps[prop]];\n          }\n        }\n\n        return React.cloneElement(child, newProps);\n      }\n\n      return child;\n    }\n  }]);\n\n  return Align;\n}(Component);\n\nAlign.defaultProps = {\n  target: function target() {\n    return window;\n  },\n  onAlign: function onAlign() {},\n  monitorBufferTime: 50,\n  monitorWindowResize: false,\n  disabled: false\n};\nexport default Align;","map":{"version":3,"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","React","Component","ReactDOM","align","addEventListener","isWindow","buffer","fn","ms","timer","clear","clearTimeout","bufferFn","setTimeout","Align","_Component","_this","getPrototypeOf","apply","arguments","forceAlign","disabled","source","findDOMNode","onAlign","componentDidMount","monitorWindowResize","startMonitorWindowResize","componentDidUpdate","prevProps","reAlign","lastTarget","currentTarget","stopMonitorWindowResize","componentWillUnmount","resizeHandler","bufferMonitor","monitorBufferTime","window","remove","render","_props","childrenProps","children","child","Children","only","newProps","prop","hasOwnProperty","cloneElement","defaultProps"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/rmc-align/es/Align.js"],"sourcesContent":["var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport align from 'dom-align';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport isWindow from './isWindow';\nfunction buffer(fn, ms) {\n    var timer = void 0;\n    function clear() {\n        if (timer) {\n            clearTimeout(timer);\n            timer = null;\n        }\n    }\n    function bufferFn() {\n        clear();\n        timer = setTimeout(fn, ms);\n    }\n    bufferFn.clear = clear;\n    return bufferFn;\n}\n\nvar Align = function (_Component) {\n    _inherits(Align, _Component);\n\n    function Align() {\n        _classCallCheck(this, Align);\n\n        var _this = _possibleConstructorReturn(this, (Align.__proto__ || Object.getPrototypeOf(Align)).apply(this, arguments));\n\n        _this.forceAlign = function () {\n            var props = _this.props;\n            if (!props.disabled) {\n                var source = ReactDOM.findDOMNode(_this);\n                props.onAlign(source, align(source, props.target(), props.align));\n            }\n        };\n        return _this;\n    }\n\n    _createClass(Align, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var props = this.props;\n                        this.forceAlign();\n            if (!props.disabled && props.monitorWindowResize) {\n                this.startMonitorWindowResize();\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            var reAlign = false;\n            var props = this.props;\n            if (!props.disabled) {\n                if (prevProps.disabled || prevProps.align !== props.align) {\n                    reAlign = true;\n                } else {\n                    var lastTarget = prevProps.target();\n                    var currentTarget = props.target();\n                    if (isWindow(lastTarget) && isWindow(currentTarget)) {\n                        reAlign = false;\n                    } else if (lastTarget !== currentTarget) {\n                        reAlign = true;\n                    }\n                }\n            }\n            if (reAlign) {\n                this.forceAlign();\n            }\n            if (props.monitorWindowResize && !props.disabled) {\n                this.startMonitorWindowResize();\n            } else {\n                this.stopMonitorWindowResize();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.stopMonitorWindowResize();\n        }\n    }, {\n        key: 'startMonitorWindowResize',\n        value: function startMonitorWindowResize() {\n            if (!this.resizeHandler) {\n                this.bufferMonitor = buffer(this.forceAlign, this.props.monitorBufferTime);\n                this.resizeHandler = addEventListener(window, 'resize', this.bufferMonitor);\n            }\n        }\n    }, {\n        key: 'stopMonitorWindowResize',\n        value: function stopMonitorWindowResize() {\n            if (this.resizeHandler) {\n                this.bufferMonitor.clear();\n                this.resizeHandler.remove();\n                this.resizeHandler = null;\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                childrenProps = _props.childrenProps,\n                children = _props.children;\n\n            var child = React.Children.only(children);\n            if (childrenProps) {\n                var newProps = {};\n                for (var prop in childrenProps) {\n                    if (childrenProps.hasOwnProperty(prop)) {\n                        newProps[prop] = this.props[childrenProps[prop]];\n                    }\n                }\n                return React.cloneElement(child, newProps);\n            }\n            return child;\n        }\n    }]);\n\n    return Align;\n}(Component);\n\nAlign.defaultProps = {\n    target: function target() {\n        return window;\n    },\n    onAlign: function onAlign() {},\n    monitorBufferTime: 50,\n    monitorWindowResize: false,\n    disabled: false\n};\nexport default Align;"],"mappings":"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"},"metadata":{},"sourceType":"module"}