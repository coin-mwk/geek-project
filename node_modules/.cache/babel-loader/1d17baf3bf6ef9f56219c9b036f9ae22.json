{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport RcSteps from 'rmc-steps';\nimport Icon from '../icon';\n\nvar Steps = function (_React$Component) {\n  _inherits(Steps, _React$Component);\n\n  function Steps() {\n    _classCallCheck(this, Steps);\n\n    return _possibleConstructorReturn(this, (Steps.__proto__ || Object.getPrototypeOf(Steps)).apply(this, arguments));\n  }\n\n  _createClass(Steps, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.componentDidUpdate();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.direction !== 'horizontal') {\n        return;\n      } // set tail's left position based on main's width for each step dynamically.\n\n\n      this.stepRefs.forEach(function (s) {\n        if (s.refs.tail) {\n          s.refs.tail.style.left = s.refs.main.offsetWidth / 2 + 'px';\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      this.stepRefs = [];\n      var _props = this.props,\n          children = _props.children,\n          status = _props.status,\n          size = _props.size;\n      var current = this.props.current; // flattern the array at first https://github.com/ant-design/ant-design-mobile/issues/934\n\n      var filterChildren = [];\n\n      if (children && children.length) {\n        children.forEach(function (item) {\n          if (React.isValidElement(item)) {\n            filterChildren.push(item);\n          }\n        });\n      }\n\n      var newChildren = React.Children.map(filterChildren, function (item, index) {\n        var className = item.props.className;\n\n        if (index < filterChildren.length - 1 && filterChildren[index + 1].props.status === 'error') {\n          className = className ? className + ' error-tail' : 'error-tail';\n        }\n\n        var icon = item.props.icon;\n\n        if (!icon) {\n          if (index < current) {\n            // 对应 state: finish\n            icon = 'check-circle-o';\n          } else if (index > current) {\n            // 对应 state: wait\n            icon = 'ellipsis';\n            className = className ? className + ' ellipsis-item' : 'ellipsis-item';\n          }\n\n          if (status === 'error' && index === current || item.props.status === 'error') {\n            icon = 'cross-circle-o';\n          }\n        }\n\n        icon = typeof icon === 'string' ? React.createElement(Icon, {\n          type: icon,\n          size: size === 'small' ? status === 'wait' ? 'xxs' : 'xs' : 'md'\n        }) : icon;\n        return React.cloneElement(item, {\n          icon: icon,\n          className: className,\n          ref: function ref(c) {\n            return _this2.stepRefs[index] = c;\n          }\n        });\n      });\n      return React.createElement(RcSteps, _extends({\n        ref: function ref(el) {\n          return _this2.stepsRef = el;\n        }\n      }, this.props), newChildren);\n    }\n  }]);\n\n  return Steps;\n}(React.Component);\n\nexport default Steps;\nSteps.Step = RcSteps.Step;\nSteps.defaultProps = {\n  prefixCls: 'am-steps',\n  iconPrefix: 'ant',\n  labelPlacement: 'vertical',\n  direction: 'vertical',\n  current: 0\n};","map":{"version":3,"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","RcSteps","Icon","Steps","_React$Component","__proto__","Object","getPrototypeOf","apply","arguments","key","value","componentDidMount","componentDidUpdate","props","direction","stepRefs","forEach","s","refs","tail","style","left","main","offsetWidth","render","_this2","_props","children","status","size","current","filterChildren","length","item","isValidElement","push","newChildren","Children","map","index","className","icon","createElement","type","cloneElement","ref","c","el","stepsRef","Component","Step","defaultProps","prefixCls","iconPrefix","labelPlacement"],"sources":["/Users/tonystark/code/VSCodeProject/react/gk-h5/node_modules/antd-mobile-v2/es/steps/index.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport RcSteps from 'rmc-steps';\nimport Icon from '../icon';\n\nvar Steps = function (_React$Component) {\n    _inherits(Steps, _React$Component);\n\n    function Steps() {\n        _classCallCheck(this, Steps);\n\n        return _possibleConstructorReturn(this, (Steps.__proto__ || Object.getPrototypeOf(Steps)).apply(this, arguments));\n    }\n\n    _createClass(Steps, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.componentDidUpdate();\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.props.direction !== 'horizontal') {\n                return;\n            }\n            // set tail's left position based on main's width for each step dynamically.\n            this.stepRefs.forEach(function (s) {\n                if (s.refs.tail) {\n                    s.refs.tail.style.left = s.refs.main.offsetWidth / 2 + 'px';\n                }\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            this.stepRefs = [];\n            var _props = this.props,\n                children = _props.children,\n                status = _props.status,\n                size = _props.size;\n\n            var current = this.props.current;\n            // flattern the array at first https://github.com/ant-design/ant-design-mobile/issues/934\n            var filterChildren = [];\n            if (children && children.length) {\n                children.forEach(function (item) {\n                    if (React.isValidElement(item)) {\n                        filterChildren.push(item);\n                    }\n                });\n            }\n            var newChildren = React.Children.map(filterChildren, function (item, index) {\n                var className = item.props.className;\n                if (index < filterChildren.length - 1 && filterChildren[index + 1].props.status === 'error') {\n                    className = className ? className + ' error-tail' : 'error-tail';\n                }\n                var icon = item.props.icon;\n                if (!icon) {\n                    if (index < current) {\n                        // 对应 state: finish\n                        icon = 'check-circle-o';\n                    } else if (index > current) {\n                        // 对应 state: wait\n                        icon = 'ellipsis';\n                        className = className ? className + ' ellipsis-item' : 'ellipsis-item';\n                    }\n                    if (status === 'error' && index === current || item.props.status === 'error') {\n                        icon = 'cross-circle-o';\n                    }\n                }\n                icon = typeof icon === 'string' ? React.createElement(Icon, { type: icon, size: size === 'small' ? status === 'wait' ? 'xxs' : 'xs' : 'md' }) : icon;\n                return React.cloneElement(item, {\n                    icon: icon,\n                    className: className,\n                    ref: function ref(c) {\n                        return _this2.stepRefs[index] = c;\n                    }\n                });\n            });\n            return React.createElement(\n                RcSteps,\n                _extends({ ref: function ref(el) {\n                        return _this2.stepsRef = el;\n                    } }, this.props),\n                newChildren\n            );\n        }\n    }]);\n\n    return Steps;\n}(React.Component);\n\nexport default Steps;\n\nSteps.Step = RcSteps.Step;\nSteps.defaultProps = {\n    prefixCls: 'am-steps',\n    iconPrefix: 'ant',\n    labelPlacement: 'vertical',\n    direction: 'vertical',\n    current: 0\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}