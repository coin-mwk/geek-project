{"ast":null,"code":"// 存放有关login的action\nimport request from '@/utils/request'; // 发送短信验证码\n\nexport const sendValidationCode = mobile => {\n  return async dispatch => {\n    const res = await request.get(`/sms/codes/${mobile}`);\n  };\n};\n/**\n * 登录验证\n * @param {*} data \n * @returns \n */\n\nexport const login = data => {\n  return async dispatch => {\n    console.log(\"====\", data);\n    const res = await request({\n      method: 'post',\n      url: '/authorizations',\n      data\n    });\n    console.log(res); // 保存token到redux中\n\n    dispatch(saveToken(res.data));\n  };\n};\nexport const saveToken = payload => {\n  return {\n    type: 'login/token',\n    payload\n  };\n};","map":{"version":3,"names":["request","sendValidationCode","mobile","dispatch","res","get","login","data","console","log","method","url","saveToken","payload","type"],"sources":["/Users/tonystark/code/VSCodeProject/react/未命名文件夹/gk-h5/src/store/actions/login.js"],"sourcesContent":["// 存放有关login的action\nimport request from '@/utils/request'\n\n// 发送短信验证码\nexport const sendValidationCode = mobile=>{\n    return async (dispatch)=>{\n        const res = await request.get(`/sms/codes/${mobile}`);\n    }\n}\n\n/**\n * 登录验证\n * @param {*} data \n * @returns \n */\nexport const login = (data)=>{\n    return async(dispatch)=>{\n        console.log(\"====\",data);\n        const res = await request({\n            method:'post',\n            url:'/authorizations',\n            data\n        })\n        console.log(res);\n        // 保存token到redux中\n        dispatch(saveToken(res.data))\n        \n    }\n}\n\nexport const saveToken = (payload)=>{\n    return {\n        type:'login/token',\n        payload,\n    }\n}\n"],"mappings":"AAAA;AACA,OAAOA,OAAP,MAAoB,iBAApB,C,CAEA;;AACA,OAAO,MAAMC,kBAAkB,GAAGC,MAAM,IAAE;EACtC,OAAO,MAAOC,QAAP,IAAkB;IACrB,MAAMC,GAAG,GAAG,MAAMJ,OAAO,CAACK,GAAR,CAAa,cAAaH,MAAO,EAAjC,CAAlB;EACH,CAFD;AAGH,CAJM;AAMP;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMI,KAAK,GAAIC,IAAD,IAAQ;EACzB,OAAO,MAAMJ,QAAN,IAAiB;IACpBK,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBF,IAAnB;IACA,MAAMH,GAAG,GAAG,MAAMJ,OAAO,CAAC;MACtBU,MAAM,EAAC,MADe;MAEtBC,GAAG,EAAC,iBAFkB;MAGtBJ;IAHsB,CAAD,CAAzB;IAKAC,OAAO,CAACC,GAAR,CAAYL,GAAZ,EAPoB,CAQpB;;IACAD,QAAQ,CAACS,SAAS,CAACR,GAAG,CAACG,IAAL,CAAV,CAAR;EAEH,CAXD;AAYH,CAbM;AAeP,OAAO,MAAMK,SAAS,GAAIC,OAAD,IAAW;EAChC,OAAO;IACHC,IAAI,EAAC,aADF;IAEHD;EAFG,CAAP;AAIH,CALM"},"metadata":{},"sourceType":"module"}